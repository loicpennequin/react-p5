{"version":3,"sources":["../../src/Command.jsx","../../src/utils/handleValueOrFunction.js","../../src/utils/handleCommonProps.js","../../src/PushPop.jsx","../../src/Debug.jsx","../../src/RenderContext.jsx","../../src/P5.jsx","../../src/Layer.jsx","../../src/Mask.jsx","../../src/Canvas.jsx","../../src/shapes/Rectangle.jsx","../../src/LinearGradient.jsx","../../src/Body.jsx","../../src/shapes/Arc.jsx","../../src/shapes/Background.jsx","../../src/shapes/Circle.jsx","../../src/shapes/Line.jsx","components/SketchWrapper/styles.js","components/SketchWrapper/index.jsx"],"names":["Command","command","p","renderContext","useContext","commandIndex","useRef","useEffect","clear","handleValueOrFunction","values","returnValue","value","handleCommonProps","props","applyProp","propName","Array","PushPop","children","push","useCallback","pop","Debug","ctx","frameRateHistory","displayDebugInfo","fr","Math","avgFr","total","text","P5RenderContext","createContext","RenderContextProvider","step","p5Instance","defineCommandFactory","getOptions","api","defineCommand","rootP5Instance","Setup","SETUP","Draw","DRAW","p5","P5Context","useP5","context","root","draw","DEFAULT_OPTIONS","clearOnDraw","frameRate","debug","pixelDensity","P5","options","useState","setP5Instance","__ready","canvasOptions","useMemo","commands","setTimeout","getCommands","key","idx","handler","index","c","EMPTY_ARRAY","Object","Layer","autoClear","blendMode","opacity","filters","isStatic","applyFunction","x","y","width","height","id","layerImage","setLayerImage","pg","applyCallbacks","applyLayer","doApply","content","contentToApply","copyParams","cb","applyFilters","filter","applyAutoClear","createLayer","console","Mask","mask","layer","parentLayer","parentImg","Canvas","renderer","canvasClassName","canvasStyle","rp","canvasContainerRef","canvas","ref","Rectangle","FullCanvasRectangle","noStroke","LinearGradient","colors","angle","angleMode","params","angleInDegrees","endVectorAngle","startVector","endVector","gradient","stop","i","Body","model","_model","objectState","setObjectState","state","current","Arc","start","Background","color","Circle","size","Line","from","to","useStyles","makeStyles","theme","display","boxShadow","shadows","margin","spacing","title","borderBottom","palette","primary","light","SketchWrapper","setup","description","appContext","setState","classes","Card","CardContent","component","Box","FormControlLabel","label","control","Switch","checked","onChange","name","className","ml","px","Typography","variant"],"mappings":"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","file":"static/js/1.af522c5f.chunk.js","sourcesContent":["import { useContext, useRef, useEffect } from 'react';\r\nimport { P5RenderContext } from './RenderContext';\r\n\r\nexport const Command = ({ command, p }) => {\r\n    const renderContext = useContext(P5RenderContext);\r\n    const commandIndex = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const clear = renderContext.defineCommand(\r\n            command,\r\n            () => p || renderContext.p5Instance,\r\n            commandIndex.current\r\n        );\r\n        return () => {\r\n            commandIndex.current = clear();\r\n        };\r\n    }, [command, p, renderContext]);\r\n    return null;\r\n};\r\n","export const handleValueOrFunction = (p, ...values) => {\r\n    const returnValue = values.map(value =>\r\n        typeof value === 'function' ? value(p) : value\r\n    );\r\n\r\n    if (returnValue.length <= 1) return returnValue[0];\r\n    return returnValue;\r\n};\r\n","import { handleValueOrFunction } from './handleValueOrFunction';\r\n\r\nexport function handleCommonProps(props, p) {\r\n    const applyProp = propName => {\r\n        if (!props.hasOwnProperty(propName)) return;\r\n        const value = handleValueOrFunction(p, props[propName]);\r\n\r\n        if (Array.isArray(value)) p[propName](...value);\r\n        else p[propName](value);\r\n    };\r\n\r\n    if (props.noFill) p.noFill();\r\n    if (props.noStroke) p.noStroke();\r\n\r\n    applyProp('ellipseMode');\r\n    applyProp('rectMode');\r\n    applyProp('angleMode');\r\n    applyProp('colorMode');\r\n\r\n    applyProp('fill');\r\n    applyProp('stroke');\r\n\r\n    applyProp('strokeJoin');\r\n    applyProp('strokeCap');\r\n    applyProp('strokeWeight');\r\n\r\n    applyProp('translate');\r\n    applyProp('rotate');\r\n    applyProp('scale');\r\n    applyProp('shearX');\r\n    applyProp('shearY');\r\n    applyProp('applyMatrix');\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from './Command';\r\nimport { handleCommonProps } from './utils/handleCommonProps';\r\n\r\nexport function PushPop({ children, ...props }) {\r\n    const push = useCallback(\r\n        p => {\r\n            p.push();\r\n            handleCommonProps(props, p);\r\n        },\r\n        [props]\r\n    );\r\n\r\n    const pop = useCallback(p => {\r\n        p.pop();\r\n    }, []);\r\n    return (\r\n        <>\r\n            <Command command={push} />\r\n            {children}\r\n            <Command command={pop} />\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback, useContext, useRef } from 'react';\r\nimport { P5Context } from './P5';\r\nimport { Command } from './Command';\r\nimport { PushPop } from './PushPop';\r\n\r\nexport function Debug() {\r\n    const ctx = useContext(P5Context);\r\n    const frameRateHistory = useRef([]);\r\n\r\n    const displayDebugInfo = useCallback(\r\n        p => {\r\n            p.fill(0, 100);\r\n            p.noStroke();\r\n            p.rect(0, 0, 185, 100);\r\n\r\n            p.fill(255);\r\n            p.textFont('Courier');\r\n            p.textSize(12);\r\n            p.textLeading(18);\r\n            const fr = Math.round(p.frameRate());\r\n            const avgFr =\r\n                frameRateHistory.current.reduce(\r\n                    (total, curr) => total + curr,\r\n                    0\r\n                ) / frameRateHistory.current.length;\r\n            frameRateHistory.current.push(fr);\r\n            if (fr > 200) fr.shift();\r\n            const text = `Current frame rate: ${fr}\r\nAverage frame rate: ${Math.round(avgFr)}\r\nPixel density: ${p.pixelDensity()}\r\nSetup commands: ${ctx.getCommands().setup.length}\r\nDraw commands: ${ctx.getCommands().draw.length}\r\n        `;\r\n            p.text(text, 8, 18);\r\n        },\r\n        [ctx]\r\n    );\r\n\r\n    return (\r\n        <PushPop>\r\n            <Command command={displayDebugInfo} />\r\n        </PushPop>\r\n    );\r\n}\r\n","import React, { createContext, useContext } from 'react';\r\nimport { Debug } from './Debug';\r\nimport { SETUP, DRAW, P5Context } from './P5';\r\nexport const P5RenderContext = createContext(null);\r\n\r\nexport const RenderContextProvider = ({ step, children }) => {\r\n    const { p5Instance, defineCommandFactory, getOptions } = useContext(\r\n        P5Context\r\n    );\r\n    const api = {\r\n        defineCommand: defineCommandFactory(step),\r\n        rootP5Instance: p5Instance,\r\n        p5Instance,\r\n        getOptions,\r\n    };\r\n\r\n    if (!p5Instance) return null;\r\n\r\n    return (\r\n        <P5RenderContext.Provider value={api}>\r\n            {children}\r\n        </P5RenderContext.Provider>\r\n    );\r\n};\r\n\r\nexport const Setup = ({ children }) => {\r\n    return (\r\n        <RenderContextProvider step={SETUP}>{children}</RenderContextProvider>\r\n    );\r\n};\r\nexport const Draw = ({ children }) => {\r\n    const { getOptions } = useContext(P5Context);\r\n    return (\r\n        <RenderContextProvider step={DRAW}>\r\n            {children}\r\n            {getOptions().debug && <Debug />}\r\n        </RenderContextProvider>\r\n    );\r\n};\r\n","import React, {\r\n    useRef,\r\n    useMemo,\r\n    useState,\r\n    useEffect,\r\n    createContext,\r\n    useContext,\r\n} from 'react';\r\nimport p5 from 'p5';\r\nimport { P5RenderContext } from './RenderContext';\r\n\r\np5.disableFriendlyErrors = true;\r\nexport const SETUP = 'setup';\r\nexport const DRAW = 'draw';\r\nexport const PRELOAD = 'preload';\r\n\r\nexport const P5Context = createContext(null);\r\n\r\nexport const useP5 = () => {\r\n    const context = useContext(P5RenderContext);\r\n    return {\r\n        p: context.p5Instance,\r\n        root: context.rootP5Instance,\r\n        draw: context.defineCommand,\r\n    };\r\n};\r\n\r\nexport const useDraw = command => {\r\n    const { draw } = useP5();\r\n\r\n    useEffect(() => {\r\n        const clear = draw(command);\r\n        return () => clear();\r\n    }, [draw, command]);\r\n};\r\n\r\nconst DEFAULT_OPTIONS = {\r\n    clearOnDraw: false,\r\n    frameRate: 60,\r\n    debug: false,\r\n    pixelDensity: 1,\r\n};\r\n\r\nexport const P5 = ({ options, children, ...props }) => {\r\n    const [p5Instance, setP5Instance] = useState(null);\r\n    const __ready = useRef(false);\r\n    const canvasOptions = useMemo(() => ({ ...DEFAULT_OPTIONS, ...options }), [\r\n        options,\r\n    ]);\r\n    const commands = useRef({\r\n        [SETUP]: [],\r\n        [DRAW]: [],\r\n        [PRELOAD]: [],\r\n    });\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (p5Instance) p5Instance.remove();\r\n        };\r\n    }, [p5Instance]);\r\n\r\n    useEffect(() => {\r\n        if (!p5Instance) {\r\n            setP5Instance(\r\n                new p5(p => {\r\n                    p.__id = 'ROOT';\r\n\r\n                    p.setup = () => {\r\n                        p.pixelDensity(canvasOptions.pixelDensity);\r\n                        p.frameRate(canvasOptions.frameRate);\r\n                        // Basically I don't understand why I need to do this...\r\n                        // When Loading the component containing the sketch asynchronously via React.lazy(),\r\n                        // the setup function is executed before the <Commands /> inside <Setup /> had time to define the commands\r\n                        // There is probably a better workaround, but this will do for now...\r\n                        setTimeout(() => {\r\n                            commands.current[SETUP].forEach(command =>\r\n                                command()\r\n                            );\r\n                            __ready.current = true;\r\n                        });\r\n                    };\r\n\r\n                    p.draw = () => {\r\n                        if (__ready.current !== true) return;\r\n                        if (canvasOptions.clearOnDraw) {\r\n                            p.clear();\r\n                        }\r\n                        commands.current[DRAW].forEach(command => {\r\n                            command();\r\n                        });\r\n                    };\r\n                })\r\n            );\r\n        }\r\n    }, [\r\n        canvasOptions.clearOnDraw,\r\n        canvasOptions.frameRate,\r\n        canvasOptions.pixelDensity,\r\n        p5Instance,\r\n    ]);\r\n\r\n    const api = {\r\n        p5Instance,\r\n        getOptions: () => canvasOptions,\r\n        getCommands: () => commands.current,\r\n        defineCommandFactory: key => (command, ctx = p5Instance, idx) => {\r\n            if (typeof idx !== 'number') {\r\n                idx = commands.current[key].length;\r\n            }\r\n\r\n            const handler = () => {\r\n                return command(typeof ctx === 'function' ? ctx() : ctx);\r\n            };\r\n            handler.__type = command.__type;\r\n            if (commands.current[key].length <= 0) {\r\n                commands.current[key].push(handler);\r\n            } else {\r\n                commands.current[key].splice(idx, 0, handler);\r\n            }\r\n            return () => {\r\n                const index = commands.current[key].indexOf(handler);\r\n                commands.current[key] = commands.current[key].filter(\r\n                    c => c !== handler\r\n                );\r\n                return index;\r\n            };\r\n        },\r\n    };\r\n\r\n    return <P5Context.Provider value={api}>{children}</P5Context.Provider>;\r\n};\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useRef,\r\n    useContext,\r\n    useCallback,\r\n} from 'react';\r\nimport { Command } from './Command';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport { handleValueOrFunction } from './utils/handleValueOrFunction';\r\nconst EMPTY_ARRAY = Object.freeze([]);\r\n\r\nexport function Layer({\r\n    autoClear = true,\r\n    children = null,\r\n    blendMode = 'BLEND',\r\n    opacity,\r\n    filters = EMPTY_ARRAY,\r\n    isStatic = false,\r\n    applyFunction,\r\n    x = 0,\r\n    y = 0,\r\n    width = p => p.width,\r\n    height = p => p.height,\r\n    id,\r\n}) {\r\n    const [layerImage, setLayerImage] = useState(null);\r\n    const pg = useRef(null);\r\n    const applyCallbacks = useRef([]);\r\n    const ctx = useContext(P5RenderContext);\r\n\r\n    useEffect(() => {\r\n        if (isStatic) {\r\n            setLayerImage(null);\r\n        }\r\n    }, [children, opacity, blendMode, isStatic]);\r\n\r\n    const api = {\r\n        ...ctx,\r\n        get p5Instance() {\r\n            return pg.current;\r\n        },\r\n    };\r\n\r\n    const applyLayer = useCallback(() => {\r\n        const p = ctx.p5Instance;\r\n        const doApply = content => {\r\n            p.blendMode(p[blendMode]);\r\n            // only tint if needed because it is a costly operation\r\n            if (opacity) {\r\n                p.tint(255, opacity);\r\n            }\r\n            p.image(\r\n                content,\r\n                handleValueOrFunction(p, x),\r\n                handleValueOrFunction(p, y),\r\n                handleValueOrFunction(p, width),\r\n                handleValueOrFunction(p, height)\r\n            );\r\n        };\r\n\r\n        if (layerImage && isStatic) {\r\n            doApply(layerImage);\r\n            return;\r\n        }\r\n        if (!pg.current || pg.current.width <= 0 || pg.current.height <= 0) {\r\n            return;\r\n        }\r\n\r\n        pg.current.mouseX = p.mouseX + handleValueOrFunction(p, x);\r\n        pg.current.mouseY = p.mouseY + handleValueOrFunction(p, y);\r\n\r\n        let contentToApply = pg.current;\r\n\r\n        if (applyCallbacks.current.length > 0) {\r\n            const copyParams = [0, 0, pg.current.width, pg.current.height];\r\n            contentToApply = p.createImage(pg.current.width, pg.current.height);\r\n            contentToApply.copy(pg.current, ...copyParams, ...copyParams);\r\n            applyCallbacks.current.forEach(cb =>\r\n                cb(pg.current, contentToApply)\r\n            );\r\n        }\r\n\r\n        if (applyFunction) applyFunction(pg.current);\r\n        else doApply(contentToApply);\r\n\r\n        if (isStatic) {\r\n            setLayerImage(contentToApply);\r\n        }\r\n    }, [\r\n        ctx.p5Instance,\r\n        layerImage,\r\n        isStatic,\r\n        applyFunction,\r\n        blendMode,\r\n        opacity,\r\n        x,\r\n        y,\r\n        width,\r\n        height,\r\n    ]);\r\n\r\n    const applyFilters = useCallback(() => {\r\n        if (!pg.current) return;\r\n        filters.forEach(filter => {\r\n            if (Array.isArray(filter)) {\r\n                pg.current.filter(...filter);\r\n            } else {\r\n                pg.current.filter(filter);\r\n            }\r\n        });\r\n    }, [filters]);\r\n\r\n    const applyAutoClear = useCallback(() => {\r\n        if (!pg.current) return;\r\n        pg.current.clear();\r\n    }, []);\r\n\r\n    const createLayer = useCallback(\r\n        p => {\r\n            if (!pg.current) {\r\n                pg.current = ctx.rootP5Instance.createGraphics(\r\n                    handleValueOrFunction(ctx.rootP5Instance, width),\r\n                    handleValueOrFunction(ctx.rootP5Instance, height)\r\n                );\r\n                pg.current.on = (event, cb) => {\r\n                    switch (event) {\r\n                        case 'apply':\r\n                            applyCallbacks.current.push(cb);\r\n                            return () => {\r\n                                applyCallbacks.current.splice(\r\n                                    applyCallbacks.current.indexOf(cb),\r\n                                    1\r\n                                );\r\n                            };\r\n                        default:\r\n                            console.error('Unknow layer event', event);\r\n                    }\r\n                };\r\n            }\r\n            pg.current.__isLayer = true;\r\n            pg.current.__id = id;\r\n        },\r\n        [ctx.rootP5Instance, height, id, width]\r\n    );\r\n\r\n    return (\r\n        <P5RenderContext.Provider value={api}>\r\n            <>\r\n                {!layerImage && <Command command={createLayer} />}\r\n                {!layerImage && autoClear && (\r\n                    <Command command={applyAutoClear} />\r\n                )}\r\n                {!layerImage && children}\r\n                {!layerImage && filters.length > 0 && (\r\n                    <Command command={applyFilters} />\r\n                )}\r\n                <Command command={applyLayer} />\r\n            </>\r\n        </P5RenderContext.Provider>\r\n    );\r\n}\r\n","import React, { useRef, useCallback, useContext } from 'react';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport { Layer } from './Layer';\r\n\r\nexport function Mask({ id, children, ...props }) {\r\n    const ctx = useContext(P5RenderContext);\r\n    const mask = useRef(null);\r\n\r\n    const applyFunction = useCallback(\r\n        layer => {\r\n            const apply = (parentLayer, parentImg) => {\r\n                parentImg.mask(layer);\r\n            };\r\n            if (mask.current) mask.current();\r\n            mask.current = ctx.p5Instance.on('apply', apply);\r\n        },\r\n        [ctx.p5Instance]\r\n    );\r\n\r\n    return (\r\n        <Layer id={id} applyFunction={applyFunction} {...props}>\r\n            {children}\r\n        </Layer>\r\n    );\r\n}\r\n","import React, { useRef, useCallback, useContext } from 'react';\r\nimport { Command } from './Command';\r\nimport { P5RenderContext } from './RenderContext';\r\n\r\nexport function Canvas({\r\n    width,\r\n    height,\r\n    renderer = 'P2D',\r\n    children,\r\n    canvasClassName,\r\n    canvasStyle,\r\n    ...props\r\n}) {\r\n    const { rootP5Instance: rp } = useContext(P5RenderContext);\r\n    const canvasContainerRef = useRef(null);\r\n    const command = useCallback(() => {\r\n        const canvas = rp.createCanvas(width, height, renderer);\r\n        canvas.elt.className = canvasClassName;\r\n        canvas.elt.style = canvasStyle;\r\n        canvas.parent(canvasContainerRef.current);\r\n    }, [canvasClassName, canvasStyle, height, renderer, rp, width]);\r\n\r\n    return (\r\n        <>\r\n            <div ref={canvasContainerRef} {...props} />\r\n            <Command command={command}>{children}</Command>\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\n\r\nexport function Rectangle({ p, x, y, width, height, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.rect(...handleValueOrFunction(p, x, y, width, height));\r\n        },\r\n        [props, x, y, width, height]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback, useContext } from 'react';\r\nimport { Command } from './Command';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport { Rectangle } from './shapes/Rectangle';\r\nimport { PushPop } from './PushPop';\r\nimport { handleCommonProps } from './utils/handleCommonProps';\r\nimport { handleValueOrFunction } from './utils/handleValueOrFunction';\r\nimport p5 from 'p5';\r\n\r\nconst FullCanvasRectangle = () => (\r\n    <Rectangle\r\n        x={0}\r\n        y={0}\r\n        width={p => p.width}\r\n        height={p => p.height}\r\n        noStroke\r\n    />\r\n);\r\nexport function LinearGradient({\r\n    x = 0,\r\n    y = 0,\r\n    width,\r\n    height,\r\n    colors = ['black', 'white'],\r\n    angle,\r\n    angleMode,\r\n    children,\r\n    ...props\r\n}) {\r\n    const { rootP5Instance: rp } = useContext(P5RenderContext);\r\n\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            const params = {\r\n                x: handleValueOrFunction(rp, x),\r\n                y: handleValueOrFunction(rp, y),\r\n                width: handleValueOrFunction(rp, width) || p.width,\r\n                height: handleValueOrFunction(rp, height) || p.height,\r\n                angle: handleValueOrFunction(rp, angle) || 0,\r\n                angleMode: handleValueOrFunction(rp, angleMode) || p.RADIANS,\r\n                colors: handleValueOrFunction(rp, ...colors),\r\n            };\r\n\r\n            if (params.angleMode !== p.RADIANS) {\r\n                params.angle = p.radians(params.angle);\r\n            }\r\n            p.push();\r\n            p.angleMode(p.DEGREES);\r\n            let angleInDegrees = p.degrees(params.angle) % 360;\r\n            let endVectorAngle = p.degrees(params.angle) % 180;\r\n\r\n            if (endVectorAngle > 45 && endVectorAngle <= 90) {\r\n                endVectorAngle = 90 - endVectorAngle;\r\n            } else if (endVectorAngle > 90 && endVectorAngle <= 135) {\r\n                endVectorAngle -= 90;\r\n            } else if (endVectorAngle > 135 && endVectorAngle <= 180) {\r\n                endVectorAngle = 90 - (endVectorAngle - 90);\r\n            }\r\n\r\n            const startVector = p.createVector(params.x, params.y);\r\n            const endVector = p5.Vector.fromAngle(params.angle);\r\n\r\n            endVector.setMag(params.width / p.sin(90 - endVectorAngle));\r\n            if (angleInDegrees > 270) {\r\n                startVector.y += params.height;\r\n                endVector.y += params.height;\r\n            } else if (angleInDegrees > 180) {\r\n                startVector.x += params.width;\r\n                endVector.x += params.width;\r\n                startVector.y += params.height;\r\n                endVector.y += params.height;\r\n            } else if (angleInDegrees > 90) {\r\n                startVector.x += params.width;\r\n                endVector.x += params.width;\r\n            }\r\n            p.pop();\r\n            const gradient = p.drawingContext.createLinearGradient(\r\n                startVector.x,\r\n                startVector.y,\r\n                params.x + endVector.x,\r\n                params.y + endVector.y\r\n            );\r\n            params.colors.forEach((color, i) => {\r\n                const stop = i / (params.colors.length - 1);\r\n                gradient.addColorStop(stop, p.color(color).toString());\r\n            });\r\n            p.drawingContext.fillStyle = gradient;\r\n\r\n            // UNCOMMENT TO DEBUG\r\n            // p.push();\r\n            // p.rect(0, 0, p.width, p.height);\r\n            // p.fill(0);\r\n            // p.text(`angle: ${Math.round(p.degrees(params.angle))}`, 15, 15);\r\n            // p.noFill();\r\n            // p.stroke(128);\r\n            // p.rect(params.x, params.y, params.width, params.height);\r\n            // p.rectMode(p.CORNERS);\r\n            // p.stroke(255);\r\n            // p.line(\r\n            //     startVector.x,\r\n            //     startVector.y,\r\n            //     params.x + endVector.x,\r\n            //     params.y + endVector.y\r\n            // );\r\n            // p.pop();\r\n        },\r\n        [props, rp, x, y, width, height, angle, angleMode, colors]\r\n    );\r\n\r\n    return (\r\n        <PushPop>\r\n            <Command command={command} />\r\n            {children || <FullCanvasRectangle />}\r\n        </PushPop>\r\n    );\r\n}\r\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\r\nimport { Command } from './Command';\r\nimport { useP5 } from './P5';\r\n\r\nexport function Body({ model, children }) {\r\n    const { p } = useP5();\r\n    const _model = useRef(null);\r\n    const [objectState, setObjectState] = useState(null);\r\n\r\n    const command = useCallback(\r\n        p => {\r\n            if (objectState) {\r\n                _model.current.update(p);\r\n                setObjectState({ state: _model.current });\r\n            }\r\n        },\r\n        [objectState]\r\n    );\r\n\r\n    useEffect(() => {\r\n        // We need to wait for the next tick before initializing the model\r\n        // This is because it could happend that setup commands such as createCanvas have not been run yet, potentially forwarding wrong values into the model\r\n        if (!_model.current) {\r\n            setTimeout(() => {\r\n                _model.current = model(p, _model.current);\r\n                setObjectState({ state: _model.current });\r\n            }, 25);\r\n        } else {\r\n            _model.current = model(p, _model.current);\r\n            setObjectState({ state: _model.current });\r\n        }\r\n    }, [model, p]);\r\n\r\n    return (\r\n        <>\r\n            <Command command={command}></Command>\r\n            {objectState && children(objectState.state)}\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\n\r\nexport function Arc({\r\n    p,\r\n    x,\r\n    y,\r\n    height,\r\n    width,\r\n    start,\r\n    stop,\r\n    children,\r\n    ...props\r\n}) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.arc(\r\n                ...handleValueOrFunction(p, x, y, width, height, start, stop)\r\n            );\r\n        },\r\n        [props, x, y, width, height, start, stop]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\n\r\nexport function Background({ color, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            p.background(handleValueOrFunction(p, color));\r\n        },\r\n        [color]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\n\r\nexport function Circle({ p, x, y, size, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.circle(...handleValueOrFunction(p, x, y, size));\r\n        },\r\n        [props, x, y, size]\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\n\r\nexport function Line({ p, from, to, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.line(...handleValueOrFunction(p, from, to).flat());\r\n        },\r\n        [props, from, to]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(theme => {\r\n    return {\r\n        canvas: {\r\n            display: 'block',\r\n            boxShadow: theme.shadows[3],\r\n            margin: `${theme.spacing(2)}px 0`,\r\n        },\r\n        title: {\r\n            borderBottom: `solid 3px ${theme.palette.primary.light}`,\r\n        },\r\n    };\r\n});\r\n","import React, { useContext } from 'react';\r\nimport { P5, Setup, Draw, Canvas } from 'p5-react';\r\nimport { appContext } from '../../App';\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    Switch,\r\n    FormControlLabel,\r\n    Typography,\r\n    Box,\r\n} from '@material-ui/core';\r\nimport { useStyles } from './styles';\r\n\r\nexport function SketchWrapper({ children, setup, draw, title, description }) {\r\n    const { state, setState } = useContext(appContext);\r\n    const toggleDebug = () => setState({ debug: !state.debug });\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card>\r\n            <CardContent component={Box} display=\"flex\">\r\n                <Box>\r\n                    <FormControlLabel\r\n                        label=\"Debug\"\r\n                        control={\r\n                            <Switch\r\n                                checked={state.debug}\r\n                                onChange={toggleDebug}\r\n                                name=\"debug-switch\"\r\n                            />\r\n                        }\r\n                    />\r\n\r\n                    <P5 options={state} className=\"canvas\">\r\n                        <Setup>\r\n                            <Canvas\r\n                                width={500}\r\n                                height={500}\r\n                                canvasClassName={classes.canvas}\r\n                            />\r\n                            {setup}\r\n                        </Setup>\r\n                        <Draw>{draw}</Draw>\r\n                        {children}\r\n                    </P5>\r\n                </Box>\r\n                <Box ml={4} px={2}>\r\n                    <Typography\r\n                        variant=\"h3\"\r\n                        component=\"h2\"\r\n                        className={classes.title}\r\n                    >\r\n                        {title}\r\n                    </Typography>\r\n                    {description}\r\n                </Box>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n"],"sourceRoot":""}