(this["webpackJsonpp5-react-example"]=this["webpackJsonpp5-react-example"]||[]).push([[6],{102:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(35),a=n(0),c=n.n(a),o=n(97);function u(e){var t=e.position,n=void 0===t?{x:0,y:0}:t,r=e.size,u=void 0===r?100:r,i=e.showPupil,l=u,f=u/3,s=Object(a.useMemo)((function(){var e=function(e){var t=n.x,r=n.y;return"function"===typeof t&&(t=t(e)),"function"===typeof r&&(r=r(e)),function(e,t,n){var r=e.createVector(n.x,n.y),a=e.createVector(e.map(e.mouseX,0,e.width,r.x-t,r.x+t),e.map(e.mouseY,0,e.height,r.y-t,r.y+t));return e.dist(a.x,a.y,r.x,r.y)<t||(a.sub(r),a.setMag(t),a.add(r)),a}(e,l/2,e.createVector(t,r))};return{x:function(t){return e(t).x},y:function(t){return e(t).y}}}),[l,n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.e,Object.assign({},n,{size:l,fill:255,noStroke:!0})),i&&c.a.createElement(o.e,Object.assign({},s,{size:f,fill:0,noStroke:!0})))}var i=function(e){var t=e.position;return c.a.createElement(o.a,Object.assign({},t,{width:230,height:230,fill:"#947",start:function(e){return e.radians(0)},stop:function(e){return e.radians(180)},noStroke:!0}))};function l(e){var t=e.position,n=Object(a.useMemo)((function(e){return{x:function(e){var n=t.x;return"function"===typeof n&&(n=n(e)),n-50},y:function(e){var n=t.y;return"function"===typeof n&&(n=n(e)),n+100}}}),[t]);return c.a.createElement(o.g,{isStatic:!0,id:"smile"},c.a.createElement(i,{position:t}),c.a.createElement(o.e,Object.assign({},n,{size:150,fill:"#fad",noStroke:!0})),c.a.createElement(o.j,{id:"smile mask"},c.a.createElement(i,{position:t})))}var f={x:function(e){return e.width/2-75},y:200},s={x:function(e){return e.width/2+75},y:200},d={x:function(e){return e.width/2},y:function(e){return e.height/2+10}},m=function(e){var t=e.showPupils;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u,{size:80,position:f,showPupil:t}),c.a.createElement(u,{size:80,position:s,showPupil:t}))};function h(){return c.a.createElement(o.g,null,c.a.createElement(o.e,{x:function(e){return e.width/2},y:function(e){return e.height/2},size:300,fill:[245,225,120],noStroke:!0}),c.a.createElement(o.g,null,c.a.createElement(o.j,null,c.a.createElement(m,{showPupils:!1})),c.a.createElement(m,{showPupils:!0})),c.a.createElement(l,{position:d}))}function p(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],u=t[1],i=Object(a.useMemo)((function(){return{clearOnDraw:!0,debug:n}}),[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return u((function(e){return!e}))}},"DEBUG: ",n?"ON":"OFF")),c.a.createElement(o.k,{options:i,className:"canvas"},c.a.createElement(o.l,null,c.a.createElement(o.d,{width:500,height:500,className:"canvas"})),c.a.createElement(o.f,null,c.a.createElement(o.i,{colors:[[100,200,255],function(e){return e.map(e.mouseY,0,e.height,255,0)},[255,200,255]],angleMode:function(e){return e.DEGREES},angle:function(e){return e.constrain(e.map(e.mouseX,0,e.width,0,360),0,360)}}),c.a.createElement(h,null))))}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return X})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return Y})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return L})),n.d(t,"i",(function(){return G})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return I}));var r=n(0),a=n.n(r),c=n(98),o=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(i){a=!0,c=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw c}}return n}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.command,n=e.p,a=Object(r.useContext)(E),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=a.defineCommand(t,(function(){return n||a.p5Instance}),c.current);return function(){c.current=e()}}),[t,n,a]),null},g=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(t){return"function"===typeof t?t(e):t}));return a.length<=1?a[0]:a};function y(e,t){var n=function(n){if(e.hasOwnProperty(n)){var r=g(t,e[n]);Array.isArray(r)?t[n].apply(t,m(r)):t[n](r)}};e.noFill&&t.noFill(),e.noStroke&&t.noStroke(),n("ellipseMode"),n("rectMode"),n("angleMode"),n("colorMode"),n("fill"),n("stroke"),n("strokeJoin"),n("strokeCap"),n("strokeWeight"),n("translate"),n("rotate"),n("scale"),n("shearX"),n("shearY"),n("applyMatrix")}function v(e){var t=e.children,n=s(e,["children"]),c=Object(r.useCallback)((function(e){e.push(),y(n,e)}),[n]),o=Object(r.useCallback)((function(e){e.pop()}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:c}),t,a.a.createElement(b,{command:o}))}function O(){var e=Object(r.useContext)(S),t=Object(r.useRef)([]),n=Object(r.useCallback)((function(n){n.fill(0,80),n.noStroke(),n.rect(0,0,185,95),n.fill(255),n.textFont("Courier"),n.textLeading(20);var r=Math.round(n.frameRate()),a=t.current.reduce((function(e,t){return e+t}),0)/t.current.length;t.current.push(r),r>200&&r.shift();var c="Current frame rate: ".concat(r,"\nAverage frame rate: ").concat(Math.round(a),"\nSetup commands: ").concat(e.getCommands().setup.length,"\nDraw commands: ").concat(e.getCommands().draw.length,"\n        ");n.text(c,8,18)}),[e]);return a.a.createElement(v,null,a.a.createElement(b,{command:n}))}var E=Object(r.createContext)(null),j=function(e){var t=e.step,n=e.children,c=Object(r.useContext)(S),o=c.p5Instance,u=c.defineCommandFactory,i=c.getOptions,l={defineCommand:u(t),rootP5Instance:o,p5Instance:o,getOptions:i};return o?a.a.createElement(E.Provider,{value:l},n):null},w=function(e){var t=e.children;return a.a.createElement(j,{step:C},t)},x=function(e){var t=e.children,n=Object(r.useContext)(S).getOptions;return a.a.createElement(j,{step:k},t,n().debug&&a.a.createElement(O,null))};o.a.disableFriendlyErrors=!0;var C="setup",k="draw",S=Object(r.createContext)(null),P=function(){var e=Object(r.useContext)(E);return{p:e.p5Instance,root:e.rootP5Instance,draw:e.defineCommand}},I=function(e){var t=P().draw;Object(r.useEffect)((function(){var n=t(e);return function(){return n()}}),[t,e])},F={clearOnDraw:!1,frameRate:60,debug:!1},M=function(e){var t,n=e.options,c=e.children,i=(s(e,["options","children"]),d(Object(r.useState)(null),2)),l=i[0],m=i[1],h=Object(r.useRef)(!1),p=Object(r.useMemo)((function(){return f({},F,{},n)}),[n]),b=Object(r.useRef)((u(t={},C,[]),u(t,k,[]),u(t,"preload",[]),t));Object(r.useEffect)((function(){return function(){l&&l.remove()}}),[l]),Object(r.useEffect)((function(){l||m(new o.a((function(e){e.__id="ROOT",e.setup=function(){e.frameRate(p.frameRate),setTimeout((function(){b.current[C].forEach((function(e){return e()})),h.current=!0}))},e.draw=function(){!0===h.current&&(p.clearOnDraw&&e.clear(),b.current[k].forEach((function(e){e()})))}})))}),[p.clearOnDraw,p.frameRate,l]);var g={p5Instance:l,getOptions:function(){return p},getCommands:function(){return b.current},defineCommandFactory:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2?arguments[2]:void 0;"number"!==typeof r&&(r=b.current[e].length);var a=function(){return t("function"===typeof n?n():n)};return a.__type=t.__type,b.current[e].length<=0?b.current[e].push(a):b.current[e].splice(r,0,a),function(){var t=b.current[e].indexOf(a);return b.current[e]=b.current[e].filter((function(e){return e!==a})),t}}}};return a.a.createElement(S.Provider,{value:g},c)},A=Object.freeze([]);function R(e){var t=e.autoClear,n=void 0===t||t,c=e.children,o=void 0===c?null:c,u=e.blendMode,i=void 0===u?"BLEND":u,l=e.opacity,s=e.filters,h=void 0===s?A:s,p=e.isStatic,y=void 0!==p&&p,v=e.applyFunction,O=e.x,j=void 0===O?0:O,w=e.y,x=void 0===w?0:w,C=e.width,k=void 0===C?function(e){return e.width}:C,S=e.height,P=void 0===S?function(e){return e.height}:S,I=e.id,F=d(Object(r.useState)(null),2),M=F[0],R=F[1],D=Object(r.useRef)(null),z=Object(r.useRef)([]),_=Object(r.useContext)(E);Object(r.useEffect)((function(){y&&R(null)}),[o,l,i,y]);var N=f({},_,{get p5Instance(){return D.current}}),G=Object(r.useCallback)((function(){var e=_.p5Instance,t=function(t){e.blendMode(e[i]),l&&e.tint(255,l),e.image(t,g(e,j),g(e,x),g(e,k),g(e,P))};if(M&&y)t(M);else if(!(!D.current||D.current.width<=0||D.current.height<=0)){D.current.mouseX=e.mouseX+g(e,j),D.current.mouseY=e.mouseY+g(e,x);var n=D.current;if(z.current.length>0){var r,a=[0,0,D.current.width,D.current.height];(r=n=e.createImage(D.current.width,D.current.height)).copy.apply(r,[D.current].concat(a,a)),z.current.forEach((function(e){return e(D.current,n)}))}v?v(D.current):t(n),y&&R(n)}}),[_.p5Instance,M,y,v,i,l,j,x,k,P]),T=Object(r.useCallback)((function(){D.current&&h.forEach((function(e){var t;Array.isArray(e)?(t=D.current).filter.apply(t,m(e)):D.current.filter(e)}))}),[h]),V=Object(r.useCallback)((function(){D.current&&D.current.clear()}),[]),X=Object(r.useCallback)((function(e){D.current||(D.current=_.rootP5Instance.createGraphics(g(_.rootP5Instance,k),g(_.rootP5Instance,P)),D.current.on=function(e,t){switch(e){case"apply":return z.current.push(t),function(){z.current.splice(z.current.indexOf(t),1)};default:console.error("Unknow layer event",e)}}),D.current.__isLayer=!0,D.current.__id=I}),[_.rootP5Instance,P,I,k]);return a.a.createElement(E.Provider,{value:N},a.a.createElement(a.a.Fragment,null,!M&&a.a.createElement(b,{command:X}),!M&&n&&a.a.createElement(b,{command:V}),!M&&o,!M&&h.length>0&&a.a.createElement(b,{command:T}),a.a.createElement(b,{command:G})))}function D(e){var t=e.id,n=e.children,c=s(e,["id","children"]),o=Object(r.useContext)(E),u=Object(r.useRef)(null),l=Object(r.useCallback)((function(e){u.current&&u.current(),u.current=o.p5Instance.on("apply",(function(t,n){n.mask(e)}))}),[o.p5Instance]);return a.a.createElement(R,i({id:t,applyFunction:l},c),n)}function z(e){var t=e.width,n=e.height,c=e.renderer,o=void 0===c?"P2D":c,u=e.children,l=s(e,["width","height","renderer","children"]),f=Object(r.useContext)(E).rootP5Instance,d=Object(r.useRef)(null),m=Object(r.useCallback)((function(){var e=f.createCanvas(t,n,o);console.log("create canvas"),e.parent(d.current)}),[n,o,f,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",i({ref:d},l)),a.a.createElement(b,{command:m},u))}function _(e){e.p;var t=e.x,n=e.y,c=e.width,o=e.height,u=e.children,i=s(e,["p","x","y","width","height","children"]),l=Object(r.useCallback)((function(e){y(i,e),e.rect.apply(e,m(g(e,t,n,c,o)))}),[i,t,n,c,o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:l}),u)}var N=function(){return a.a.createElement(_,{x:0,y:0,width:function(e){return e.width},height:function(e){return e.height},noStroke:!0})};function G(e){var t=e.x,n=void 0===t?0:t,c=e.y,u=void 0===c?0:c,i=e.width,l=e.height,f=e.colors,d=void 0===f?["black","white"]:f,h=e.angle,p=e.angleMode,O=e.children,j=s(e,["x","y","width","height","colors","angle","angleMode","children"]),w=Object(r.useContext)(E).rootP5Instance,x=Object(r.useCallback)((function(e){y(j,e);var t={x:g(w,n),y:g(w,u),width:g(w,i)||e.width,height:g(w,l)||e.height,angle:g(w,h)||0,angleMode:g(w,p)||e.RADIANS,colors:g.apply(void 0,[w].concat(m(d)))};t.angleMode!==e.RADIANS&&(t.angle=e.radians(t.angle)),e.push(),e.angleMode(e.DEGREES);var r=e.degrees(t.angle)%360,a=e.degrees(t.angle)%180;a>45&&a<=90?a=90-a:a>90&&a<=135?a-=90:a>135&&a<=180&&(a=90-(a-90));var c=e.createVector(t.x,t.y),f=o.a.Vector.fromAngle(t.angle);f.setMag(t.width/e.sin(90-a)),r>270?(c.y+=t.height,f.y+=t.height):r>180?(c.x+=t.width,f.x+=t.width,c.y+=t.height,f.y+=t.height):r>90&&(c.x+=t.width,f.x+=t.width),e.pop();var s=e.drawingContext.createLinearGradient(c.x,c.y,t.x+f.x,t.y+f.y);t.colors.forEach((function(n,r){var a=r/(t.colors.length-1);s.addColorStop(a,e.color(n).toString())})),e.drawingContext.fillStyle=s}),[j,w,n,u,i,l,h,p,d]);return a.a.createElement(v,null,a.a.createElement(b,{command:x}),O||a.a.createElement(N,null))}function T(e){var t=e.model,n=e.children,c=P().p,o=Object(r.useRef)(null),u=d(Object(r.useState)(null),2),i=u[0],l=u[1],f=Object(r.useCallback)((function(e){i&&(o.current.update(e),l({state:o.current}))}),[i]);return Object(r.useEffect)((function(){o.current?(o.current=t(c,o.current),l({state:o.current})):setTimeout((function(){o.current=t(c,o.current),l({state:o.current})}))}),[t,c]),a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:f}),i&&n(i.state))}function V(e){e.p;var t=e.x,n=e.y,c=e.height,o=e.width,u=e.start,i=e.stop,l=e.children,f=s(e,["p","x","y","height","width","start","stop","children"]),d=Object(r.useCallback)((function(e){y(f,e),e.arc.apply(e,m(g(e,t,n,o,c,u,i)))}),[f,t,n,o,c,u,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:d}),l)}function X(e){var t=e.color,n=e.children,c=(s(e,["color","children"]),Object(r.useCallback)((function(e){e.background(g(e,t))}),[t]));return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:c}),n)}function Y(e){e.p;var t=e.x,n=e.y,c=e.size,o=e.children,u=s(e,["p","x","y","size","children"]),i=Object(r.useCallback)((function(e){y(u,e),e.circle.apply(e,m(g(e,t,n,c)))}),[u,t,n,c]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:i}),o)}function L(e){e.p;var t=e.from,n=e.to,c=e.children,o=s(e,["p","from","to","children"]),u=Object(r.useCallback)((function(e){y(o,e),e.line.apply(e,m(g(e,t,n).flat()))}),[o,t,n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:u}),c)}}}]);
//# sourceMappingURL=smiley.page.d8496562.chunk.js.map