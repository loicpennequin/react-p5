(this["webpackJsonpp5-react-example"]=this["webpackJsonpp5-react-example"]||[]).push([[1],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return X})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return w}));var r=n(0),a=n.n(r),c=n(113),o=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(i){a=!0,c=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw c}}return n}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.command,n=e.p,a=Object(r.useContext)(j),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=a.defineCommand(t,(function(){return n||a.p5Instance}),c.current);return function(){c.current=e()}}),[t,n,a]),null},g=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(t){return"function"===typeof t?t(e):t}));return a.length<=1?a[0]:a};function y(e,t){var n=function(n){if(e.hasOwnProperty(n)){var r=g(t,e[n]);Array.isArray(r)?t[n].apply(t,m(r)):t[n](r)}};e.noFill&&t.noFill(),e.noStroke&&t.noStroke(),n("ellipseMode"),n("rectMode"),n("angleMode"),n("colorMode"),n("fill"),n("stroke"),n("strokeJoin"),n("strokeCap"),n("strokeWeight"),n("translate"),n("rotate"),n("scale"),n("shearX"),n("shearY"),n("applyMatrix")}function v(e){var t=e.children,n=f(e,["children"]),c=Object(r.useCallback)((function(e){e.push(),y(n,e)}),[n]),o=Object(r.useCallback)((function(e){e.pop()}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:c}),t,a.a.createElement(b,{command:o}))}function O(){var e=Object(r.useContext)(S),t=Object(r.useRef)([]),n=Object(r.useCallback)((function(n){n.fill(0,100),n.noStroke(),n.rect(0,0,185,100),n.fill(255),n.textFont("Courier"),n.textSize(12),n.textLeading(18);var r=Math.round(n.frameRate()),a=t.current.reduce((function(e,t){return e+t}),0)/t.current.length;t.current.push(r),r>200&&r.shift();var c="Current frame rate: ".concat(r,"\nAverage frame rate: ").concat(Math.round(a),"\nPixel density: ").concat(n.pixelDensity(),"\nSetup commands: ").concat(e.getCommands().setup.length,"\nDraw commands: ").concat(e.getCommands().draw.length,"\n        ");n.text(c,8,18)}),[e]);return a.a.createElement(v,null,a.a.createElement(b,{command:n}))}var j=Object(r.createContext)(null),E=function(e){var t=e.step,n=e.children,c=Object(r.useContext)(S),o=c.p5Instance,u=c.defineCommandFactory,i=c.getOptions,l={defineCommand:u(t),rootP5Instance:o,p5Instance:o,getOptions:i};return o?a.a.createElement(j.Provider,{value:l},n):null},w=function(e){var t=e.children;return a.a.createElement(E,{step:C},t)},x=function(e){var t=e.children,n=Object(r.useContext)(S).getOptions;return a.a.createElement(E,{step:k},t,n().debug&&a.a.createElement(O,null))};o.a.disableFriendlyErrors=!0;var C="setup",k="draw",S=Object(r.createContext)(null),I=function(){var e=Object(r.useContext)(j);return{p:e.p5Instance,root:e.rootP5Instance,draw:e.defineCommand}},P={clearOnDraw:!1,frameRate:60,debug:!1},A=function(e){var t,n=e.options,c=e.children,i=(f(e,["options","children"]),d(Object(r.useState)(null),2)),l=i[0],m=i[1],h=Object(r.useRef)(!1),p=Object(r.useMemo)((function(){return s({},P,{},n)}),[n]),b=Object(r.useRef)((u(t={},C,[]),u(t,k,[]),u(t,"preload",[]),t));Object(r.useEffect)((function(){return function(){l&&l.remove()}}),[l]),Object(r.useEffect)((function(){l||m(new o.a((function(e){e.__id="ROOT",e.setup=function(){e.frameRate(p.frameRate),setTimeout((function(){b.current[C].forEach((function(e){return e()})),h.current=!0}))},e.draw=function(){!0===h.current&&(p.clearOnDraw&&e.clear(),b.current[k].forEach((function(e){e()})))}})))}),[p.clearOnDraw,p.frameRate,l]);var g={p5Instance:l,getOptions:function(){return p},getCommands:function(){return b.current},defineCommandFactory:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2?arguments[2]:void 0;"number"!==typeof r&&(r=b.current[e].length);var a=function(){return t("function"===typeof n?n():n)};return a.__type=t.__type,b.current[e].length<=0?b.current[e].push(a):b.current[e].splice(r,0,a),function(){var t=b.current[e].indexOf(a);return b.current[e]=b.current[e].filter((function(e){return e!==a})),t}}}};return a.a.createElement(S.Provider,{value:g},c)},R=Object.freeze([]);function F(e){var t=e.autoClear,n=void 0===t||t,c=e.children,o=void 0===c?null:c,u=e.blendMode,i=void 0===u?"BLEND":u,l=e.opacity,f=e.filters,h=void 0===f?R:f,p=e.isStatic,y=void 0!==p&&p,v=e.applyFunction,O=e.x,E=void 0===O?0:O,w=e.y,x=void 0===w?0:w,C=e.width,k=void 0===C?function(e){return e.width}:C,S=e.height,I=void 0===S?function(e){return e.height}:S,P=e.id,A=d(Object(r.useState)(null),2),F=A[0],M=A[1],D=Object(r.useRef)(null),_=Object(r.useRef)([]),N=Object(r.useContext)(j);Object(r.useEffect)((function(){y&&M(null)}),[o,l,i,y]);var T=s({},N,{get p5Instance(){return D.current}}),z=Object(r.useCallback)((function(){var e=N.p5Instance,t=function(t){e.blendMode(e[i]),l&&e.tint(255,l),e.image(t,g(e,E),g(e,x),g(e,k),g(e,I))};if(F&&y)t(F);else if(!(!D.current||D.current.width<=0||D.current.height<=0)){D.current.mouseX=e.mouseX+g(e,E),D.current.mouseY=e.mouseY+g(e,x);var n=D.current;if(_.current.length>0){var r,a=[0,0,D.current.width,D.current.height];(r=n=e.createImage(D.current.width,D.current.height)).copy.apply(r,[D.current].concat(a,a)),_.current.forEach((function(e){return e(D.current,n)}))}v?v(D.current):t(n),y&&M(n)}}),[N.p5Instance,F,y,v,i,l,E,x,k,I]),L=Object(r.useCallback)((function(){D.current&&h.forEach((function(e){var t;Array.isArray(e)?(t=D.current).filter.apply(t,m(e)):D.current.filter(e)}))}),[h]),G=Object(r.useCallback)((function(){D.current&&D.current.clear()}),[]),J=Object(r.useCallback)((function(e){D.current||(D.current=N.rootP5Instance.createGraphics(g(N.rootP5Instance,k),g(N.rootP5Instance,I)),D.current.on=function(e,t){switch(e){case"apply":return _.current.push(t),function(){_.current.splice(_.current.indexOf(t),1)};default:console.error("Unknow layer event",e)}}),D.current.__isLayer=!0,D.current.__id=P}),[N.rootP5Instance,I,P,k]);return a.a.createElement(j.Provider,{value:T},a.a.createElement(a.a.Fragment,null,!F&&a.a.createElement(b,{command:J}),!F&&n&&a.a.createElement(b,{command:G}),!F&&o,!F&&h.length>0&&a.a.createElement(b,{command:L}),a.a.createElement(b,{command:z})))}function M(e){var t=e.id,n=e.children,c=f(e,["id","children"]),o=Object(r.useContext)(j),u=Object(r.useRef)(null),l=Object(r.useCallback)((function(e){u.current&&u.current(),u.current=o.p5Instance.on("apply",(function(t,n){n.mask(e)}))}),[o.p5Instance]);return a.a.createElement(F,i({id:t,applyFunction:l},c),n)}function D(e){var t=e.width,n=e.height,c=e.renderer,o=void 0===c?"P2D":c,u=e.children,l=e.canvasClassName,s=e.canvasStyle,d=f(e,["width","height","renderer","children","canvasClassName","canvasStyle"]),m=Object(r.useContext)(j).rootP5Instance,h=Object(r.useRef)(null),p=Object(r.useCallback)((function(){var e=m.createCanvas(t,n,o);e.elt.className=l,e.elt.style=s,e.parent(h.current)}),[l,s,n,o,m,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",i({ref:h},d)),a.a.createElement(b,{command:p},u))}function _(e){e.p;var t=e.x,n=e.y,c=e.width,o=e.height,u=e.children,i=f(e,["p","x","y","width","height","children"]),l=Object(r.useCallback)((function(e){y(i,e),e.rect.apply(e,m(g(e,t,n,c,o)))}),[i,t,n,c,o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:l}),u)}var N=function(){return a.a.createElement(_,{x:0,y:0,width:function(e){return e.width},height:function(e){return e.height},noStroke:!0})};function T(e){var t=e.x,n=void 0===t?0:t,c=e.y,u=void 0===c?0:c,i=e.width,l=e.height,s=e.colors,d=void 0===s?["black","white"]:s,h=e.angle,p=e.angleMode,O=e.children,E=f(e,["x","y","width","height","colors","angle","angleMode","children"]),w=Object(r.useContext)(j).rootP5Instance,x=Object(r.useCallback)((function(e){y(E,e);var t={x:g(w,n),y:g(w,u),width:g(w,i)||e.width,height:g(w,l)||e.height,angle:g(w,h)||0,angleMode:g(w,p)||e.RADIANS,colors:g.apply(void 0,[w].concat(m(d)))};t.angleMode!==e.RADIANS&&(t.angle=e.radians(t.angle)),e.push(),e.angleMode(e.DEGREES);var r=e.degrees(t.angle)%360,a=e.degrees(t.angle)%180;a>45&&a<=90?a=90-a:a>90&&a<=135?a-=90:a>135&&a<=180&&(a=90-(a-90));var c=e.createVector(t.x,t.y),s=o.a.Vector.fromAngle(t.angle);s.setMag(t.width/e.sin(90-a)),r>270?(c.y+=t.height,s.y+=t.height):r>180?(c.x+=t.width,s.x+=t.width,c.y+=t.height,s.y+=t.height):r>90&&(c.x+=t.width,s.x+=t.width),e.pop();var f=e.drawingContext.createLinearGradient(c.x,c.y,t.x+s.x,t.y+s.y);t.colors.forEach((function(n,r){var a=r/(t.colors.length-1);f.addColorStop(a,e.color(n).toString())})),e.drawingContext.fillStyle=f}),[E,w,n,u,i,l,h,p,d]);return a.a.createElement(v,null,a.a.createElement(b,{command:x}),O||a.a.createElement(N,null))}function z(e){var t=e.model,n=e.children,c=I().p,o=Object(r.useRef)(null),u=d(Object(r.useState)(null),2),i=u[0],l=u[1],s=Object(r.useCallback)((function(e){i&&(o.current.update(e),l({state:o.current}))}),[i]);return Object(r.useEffect)((function(){o.current?(o.current=t(c,o.current),l({state:o.current})):setTimeout((function(){o.current=t(c,o.current),l({state:o.current})}),25)}),[t,c]),a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:s}),i&&n(i.state))}function L(e){e.p;var t=e.x,n=e.y,c=e.height,o=e.width,u=e.start,i=e.stop,l=e.children,s=f(e,["p","x","y","height","width","start","stop","children"]),d=Object(r.useCallback)((function(e){y(s,e),e.arc.apply(e,m(g(e,t,n,o,c,u,i)))}),[s,t,n,o,c,u,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:d}),l)}function G(e){var t=e.color,n=e.children,c=(f(e,["color","children"]),Object(r.useCallback)((function(e){e.background(g(e,t))}),[t]));return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:c}),n)}function J(e){e.p;var t=e.x,n=e.y,c=e.size,o=e.children,u=f(e,["p","x","y","size","children"]),i=Object(r.useCallback)((function(e){y(u,e),e.circle.apply(e,m(g(e,t,n,c)))}),[u,t,n,c]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:i}),o)}function X(e){e.p;var t=e.from,n=e.to,c=e.children,o=f(e,["p","from","to","children"]),u=Object(r.useCallback)((function(e){y(o,e),e.line.apply(e,m(g(e,t,n).flat()))}),[o,t,n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{command:u}),c)}},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),c=n(106),o=n(45),u=n(120),i=n(121),l=n(103),s=n(122),f=n(123),d=n(29),m=n(90),h=Object(m.a)((function(e){return{canvas:{display:"block",boxShadow:e.shadows[3],margin:"".concat(e.spacing(2),"px 0")},title:{borderBottom:"solid 3px ".concat(e.palette.primary.light)}}}));function p(e){var t=e.children,n=e.setup,m=e.draw,p=e.title,b=e.description,g=Object(r.useContext)(o.a),y=g.state,v=g.setState,O=h();return a.a.createElement(u.a,null,a.a.createElement(i.a,{component:l.a,display:"flex"},a.a.createElement(l.a,null,a.a.createElement(s.a,{label:"Debug",control:a.a.createElement(f.a,{checked:y.debug,onChange:function(){return v({debug:!y.debug})},name:"debug-switch"})}),a.a.createElement(c.l,{options:y,className:"canvas"},a.a.createElement(c.m,null,a.a.createElement(c.d,{width:500,height:500,canvasClassName:O.canvas}),n),a.a.createElement(c.g,null,m),t)),a.a.createElement(l.a,{ml:4,px:2},a.a.createElement(d.a,{variant:"h3",component:"h2",className:O.title},p),b)))}}}]);
//# sourceMappingURL=1.5b191305.chunk.js.map