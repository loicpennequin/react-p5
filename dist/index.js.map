{"version":3,"file":"index.js","sources":["../src/P5.jsx","../src/Command.jsx","../src/Debug.jsx","../src/RenderContext.jsx","../src/Canvas.jsx","../src/utils/handleValueOrFunction.js","../src/Background.jsx","../src/Layer.jsx","../src/Mask.jsx","../src/utils/handleCommonProps.js","../node_modules/react-desc/lib/PropTypes.js","../node_modules/react-desc/lib/descToJSON.js","../node_modules/react-desc/lib/descToMarkdown.js","../node_modules/react-desc/lib/descToTypescript.js","../node_modules/react-desc/lib/describe.js","../node_modules/react-desc/lib/index.js","../src/PushPop.jsx","../src/shapes/Rectangle.jsx","../src/LinearGradient.jsx","../src/Body.jsx","../src/shapes/Arc.jsx","../src/shapes/Circle.jsx","../src/shapes/Ellipse.jsx","../src/shapes/Line.jsx","../src/shapes/Point.jsx","../src/shapes/Square.jsx"],"sourcesContent":["import React, {\r\n    useRef,\r\n    useMemo,\r\n    useState,\r\n    useEffect,\r\n    createContext,\r\n    useContext,\r\n} from 'react';\r\nimport p5 from 'p5';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport PropTypes from 'prop-types';\r\n\r\np5.disableFriendlyErrors = true;\r\n\r\nexport const SETUP = 'setup';\r\nexport const DRAW = 'draw';\r\nexport const PRELOAD = 'preload';\r\n\r\nexport const P5Context = createContext(null);\r\n\r\nexport const useP5 = () => {\r\n    const context = useContext(P5RenderContext);\r\n    return {\r\n        p: context.p5Instance,\r\n        root: context.rootP5Instance,\r\n        draw: context.defineCommand,\r\n    };\r\n};\r\n\r\nexport const useDraw = command => {\r\n    const { draw } = useP5();\r\n\r\n    useEffect(() => {\r\n        const clear = draw(command);\r\n        return () => clear();\r\n    }, [draw, command]);\r\n};\r\n\r\nconst DEFAULT_OPTIONS = {\r\n    clearOnDraw: false,\r\n    frameRate: 60,\r\n    debug: false,\r\n    pixelDensity: 1,\r\n};\r\n\r\n/**\r\n * Todo\r\n */\r\nexport const P5 = ({ options, children, ...props }) => {\r\n    const [p5Instance, setP5Instance] = useState(null);\r\n    const __ready = useRef(false);\r\n    const canvasOptions = useMemo(() => ({ ...DEFAULT_OPTIONS, ...options }), [\r\n        options,\r\n    ]);\r\n    const rootState = useRef({\r\n        [SETUP]: [],\r\n        [DRAW]: [],\r\n        [PRELOAD]: [],\r\n        layers: [],\r\n    });\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (p5Instance) p5Instance.remove();\r\n        };\r\n    }, [p5Instance]);\r\n\r\n    useEffect(() => {\r\n        if (!p5Instance) {\r\n            setP5Instance(\r\n                new p5(p => {\r\n                    p.__id = 'ROOT';\r\n\r\n                    p.setup = () => {\r\n                        p.pixelDensity(canvasOptions.pixelDensity);\r\n                        p.frameRate(canvasOptions.frameRate);\r\n                        // Basically I don't understand why I need to do this...\r\n                        // When Loading the component containing the sketch asynchronously via React.lazy(),\r\n                        // the setup function is executed before the <Commands /> inside <Setup /> had time to define the commands\r\n                        // There is probably a better workaround, but this will do for now...\r\n                        setTimeout(() => {\r\n                            rootState.current[SETUP].forEach(command =>\r\n                                command()\r\n                            );\r\n                            __ready.current = true;\r\n                        });\r\n                    };\r\n\r\n                    p.draw = () => {\r\n                        if (__ready.current !== true) return;\r\n                        if (canvasOptions.clearOnDraw) {\r\n                            p.clear();\r\n                        }\r\n                        rootState.current[DRAW].forEach(command => {\r\n                            command();\r\n                        });\r\n                    };\r\n                })\r\n            );\r\n        }\r\n    }, [\r\n        canvasOptions.clearOnDraw,\r\n        canvasOptions.frameRate,\r\n        canvasOptions.pixelDensity,\r\n        p5Instance,\r\n    ]);\r\n\r\n    const api = {\r\n        p5Instance,\r\n        getOptions: () => canvasOptions,\r\n        getRootState: () => rootState.current,\r\n        findLayer: id =>\r\n            rootState.current.layers.find(layer => layer.__id === id),\r\n        defineCommandFactory: key => (command, ctx = p5Instance, idx) => {\r\n            if (typeof idx !== 'number') {\r\n                idx = rootState.current[key].length;\r\n            }\r\n\r\n            const handler = () => {\r\n                return command(typeof ctx === 'function' ? ctx() : ctx);\r\n            };\r\n            handler.__type = command.__type;\r\n            if (rootState.current[key].length <= 0) {\r\n                rootState.current[key].push(handler);\r\n            } else {\r\n                rootState.current[key].splice(idx, 0, handler);\r\n            }\r\n            return () => {\r\n                const index = rootState.current[key].indexOf(handler);\r\n                rootState.current[key] = rootState.current[key].filter(\r\n                    c => c !== handler\r\n                );\r\n                return index;\r\n            };\r\n        },\r\n    };\r\n\r\n    return <P5Context.Provider value={api}>{children}</P5Context.Provider>;\r\n};\r\nP5.displayName = 'P5';\r\nP5.propTypes = {\r\n    /** todo */\r\n    options: PropTypes.shape({\r\n        /** todo */\r\n        clearOnDraw: PropTypes.bool,\r\n        /** todo */\r\n        frameRate: PropTypes.number,\r\n        /** todo */\r\n        debug: PropTypes.bool,\r\n        /** todo */\r\n        pixelDensity: PropTypes.number,\r\n    }),\r\n};\r\n","import { useContext, useRef, useEffect } from 'react';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The most low-level P5-react component to interact with your sketch. Under the hood, almost every P5-react component uses it internally.\r\n * It gets passed a command as a prop, which is a function recieving the p5 instance as an argument, and will get executed during setup or draw depending on where the component is placed.\r\n * Basically, your Sketch will be a queue of \\`Command />\\` component that will get executed in the same order on each draw cycle.\r\n *\r\n * The command prop may be updated at any time, and the result will appear on your sketch accordingly. The new command will take place at the same position in the commands queue, instead of being pushed at the end.\r\n */\r\nexport function Command({ command, p }) {\r\n    const renderContext = useContext(P5RenderContext);\r\n    const commandIndex = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const clear = renderContext.defineCommand(\r\n            command,\r\n            () => p || renderContext.p5Instance,\r\n            commandIndex.current\r\n        );\r\n        return () => {\r\n            commandIndex.current = clear();\r\n        };\r\n    }, [command, p, renderContext]);\r\n    return null;\r\n}\r\nCommand.displayName = 'Command';\r\nCommand.propTypes = {\r\n    /** The command to be executed on the p5 Sketch. It takes the p5 instance as a prop */\r\n    command: PropTypes.func.isRequired,\r\n    /** The p5 instance to be drawn onto by the command. If non is specified, it will draw on the current p5 Instance. see Layers for more informations on p5 instances. */\r\n    p: PropTypes.object,\r\n};\r\n","import React, { useCallback, useContext, useRef } from 'react';\r\nimport { P5Context } from './P5';\r\nimport { Command } from './Command';\r\n\r\nexport function Debug() {\r\n    const ctx = useContext(P5Context);\r\n    const frameRateHistory = useRef([]);\r\n\r\n    const displayDebugInfo = useCallback(\r\n        p => {\r\n            p.push();\r\n            p.fill(0, 100);\r\n            p.noStroke();\r\n            p.rect(0, 0, 185, 100);\r\n\r\n            p.fill(255);\r\n            p.textFont('Courier');\r\n            p.textSize(12);\r\n            p.textLeading(18);\r\n            const fr = Math.round(p.frameRate());\r\n            const avgFr =\r\n                frameRateHistory.current.reduce(\r\n                    (total, curr) => total + curr,\r\n                    0\r\n                ) / frameRateHistory.current.length;\r\n            frameRateHistory.current.push(fr);\r\n            if (fr > 200) fr.shift();\r\n            const text = `Current frame rate: ${fr}\r\nAverage frame rate: ${Math.round(avgFr)}\r\nPixel density: ${p.pixelDensity()}\r\nSetup commands: ${ctx.getRootState().setup.length}\r\nDraw commands: ${ctx.getRootState().draw.length}\r\n        `;\r\n            p.text(text, 8, 18);\r\n            p.pop();\r\n        },\r\n        [ctx]\r\n    );\r\n\r\n    return <Command command={displayDebugInfo} />;\r\n}\r\n","import React, { createContext, useContext } from 'react';\r\nimport { Debug } from './Debug';\r\nimport { SETUP, DRAW, P5Context } from './P5';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const P5RenderContext = createContext(null);\r\n\r\n/** Todo */\r\nexport const RenderContextProvider = ({ step, children }) => {\r\n    const { p5Instance, defineCommandFactory, ...ctx } = useContext(P5Context);\r\n    const api = {\r\n        defineCommand: defineCommandFactory(step),\r\n        rootP5Instance: p5Instance,\r\n        p5Instance,\r\n        ...ctx,\r\n    };\r\n\r\n    if (!p5Instance) return null;\r\n\r\n    return (\r\n        <P5RenderContext.Provider value={api}>\r\n            {children}\r\n        </P5RenderContext.Provider>\r\n    );\r\n};\r\nRenderContextProvider.displayName = 'RenderContextProvider';\r\nRenderContextProvider.PropTypes = {\r\n    /** Todo */\r\n    step: PropTypes.string,\r\n};\r\n\r\n/** todo */\r\nexport const Setup = ({ children }) => {\r\n    return (\r\n        <RenderContextProvider step={SETUP}>{children}</RenderContextProvider>\r\n    );\r\n};\r\nSetup.displayName = 'Setup';\r\n\r\n/** todo  */\r\nexport const Draw = ({ children }) => {\r\n    const { getOptions } = useContext(P5Context);\r\n    return (\r\n        <RenderContextProvider step={DRAW}>\r\n            {children}\r\n            {getOptions().debug && <Debug />}\r\n        </RenderContextProvider>\r\n    );\r\n};\r\nDraw.displayName = 'Draw';\r\n","import React, { useRef, useCallback, useContext } from 'react';\r\nimport { Command } from './Command';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The <Canvas> component will create a new canvas for you to draw things on.\r\n * It is the equivalent of calling [p5.createCanvas()](https://p5js.org/reference/#/p5/createCanvas)\r\n */\r\nexport function Canvas({\r\n    width,\r\n    height,\r\n    renderer = 'P2D',\r\n    children,\r\n    canvasClassName,\r\n    canvasStyle,\r\n    ...props\r\n}) {\r\n    const { rootP5Instance: rp } = useContext(P5RenderContext);\r\n    const canvasContainerRef = useRef(null);\r\n    const command = useCallback(() => {\r\n        const canvas = rp.createCanvas(width, height, renderer);\r\n        canvas.elt.className = canvasClassName;\r\n        canvas.elt.style = canvasStyle;\r\n        canvas.parent(canvasContainerRef.current);\r\n    }, [canvasClassName, canvasStyle, height, renderer, rp, width]);\r\n\r\n    return (\r\n        <>\r\n            <div ref={canvasContainerRef} {...props} />\r\n            <Command command={command}>{children}</Command>\r\n        </>\r\n    );\r\n}\r\nCanvas.displayName = 'Canvas';\r\nCanvas.propTypes = {\r\n    /** The width of the canvas */\r\n    width: PropTypes.oneOfType([PropTypes.func, PropTypes.number]).isRequired,\r\n    /** The height of the canvas */\r\n    height: PropTypes.oneOfType([PropTypes.func, PropTypes.number]).isRequired,\r\n    /** The renderer to use. Defaults to `P2D` */\r\n    renderer: PropTypes.oneOf(['P2D', 'WEBGL']),\r\n    /** todo  */\r\n    canvasClassName: PropTypes.string,\r\n    /** todo  */\r\n    canvasStyle: PropTypes.object,\r\n};\r\n","export const handleValueOrFunction = (p, ...values) => {\r\n    const returnValue = values.map(value =>\r\n        typeof value === 'function' ? value(p) : value\r\n    );\r\n\r\n    if (returnValue.length <= 1) return returnValue[0];\r\n    return returnValue;\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from './Command';\r\nimport { handleValueOrFunction } from './utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/** todo */\r\nexport function Background({ color, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            p.background(handleValueOrFunction(p, color));\r\n        },\r\n        [color]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nBackground.displayName = 'Background';\r\n\r\nBackground.propTypes = {\r\n    /** todo */\r\n    color: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.number,\r\n        PropTypes.array,\r\n    ]),\r\n};\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useRef,\r\n    useContext,\r\n    useCallback,\r\n} from 'react';\r\nimport { Command } from './Command';\r\nimport { P5Context } from './P5';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport { handleValueOrFunction } from './utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst EMPTY_ARRAY = Object.freeze([]);\r\n\r\n/**\r\n * Todo\r\n */\r\nexport function Layer({\r\n    autoClear = true,\r\n    children = null,\r\n    blendMode = 'BLEND',\r\n    opacity,\r\n    filters = EMPTY_ARRAY,\r\n    isStatic = false,\r\n    applyFunction,\r\n    x = 0,\r\n    y = 0,\r\n    width = p => p.width,\r\n    height = p => p.height,\r\n    id,\r\n}) {\r\n    const [layerImage, setLayerImage] = useState(null);\r\n    const pg = useRef(null);\r\n    const applyCallbacks = useRef([]);\r\n    const ctx = useContext(P5RenderContext);\r\n    const globalCtx = useContext(P5Context);\r\n\r\n    useEffect(() => {\r\n        if (isStatic) {\r\n            setLayerImage(null);\r\n        }\r\n    }, [children, opacity, blendMode, isStatic]);\r\n\r\n    useEffect(\r\n        () => () => {\r\n            ctx.getRootState().layers = ctx\r\n                .getRootState()\r\n                .layers.filter(layer => layer.__id !== id);\r\n        },\r\n        [ctx, id]\r\n    );\r\n\r\n    const api = {\r\n        ...ctx,\r\n        get p5Instance() {\r\n            return pg.current;\r\n        },\r\n    };\r\n\r\n    const applyLayer = useCallback(() => {\r\n        const p = ctx.p5Instance;\r\n        const doApply = content => {\r\n            p.blendMode(p[blendMode]);\r\n            // only tint if needed because it is a costly operation\r\n            if (opacity) {\r\n                p.tint(255, opacity);\r\n            }\r\n            p.image(\r\n                content,\r\n                handleValueOrFunction(p, x),\r\n                handleValueOrFunction(p, y),\r\n                handleValueOrFunction(p, width),\r\n                handleValueOrFunction(p, height)\r\n            );\r\n        };\r\n\r\n        if (layerImage && isStatic) {\r\n            doApply(layerImage);\r\n            return;\r\n        }\r\n        if (!pg.current || pg.current.width <= 0 || pg.current.height <= 0) {\r\n            return;\r\n        }\r\n\r\n        pg.current.mouseX = p.mouseX + handleValueOrFunction(p, x);\r\n        pg.current.mouseY = p.mouseY + handleValueOrFunction(p, y);\r\n        pg.current.pmouseX = p.pmouseX + handleValueOrFunction(p, x);\r\n        pg.current.pmouseY = p.pmouseY + handleValueOrFunction(p, y);\r\n\r\n        let contentToApply = pg.current;\r\n\r\n        if (applyCallbacks.current.length > 0) {\r\n            const copyParams = [0, 0, pg.current.width, pg.current.height];\r\n            contentToApply = p.createImage(pg.current.width, pg.current.height);\r\n            contentToApply.copy(pg.current, ...copyParams, ...copyParams);\r\n            applyCallbacks.current.forEach(cb =>\r\n                cb(pg.current, contentToApply)\r\n            );\r\n        }\r\n\r\n        if (applyFunction) applyFunction(pg.current);\r\n        else doApply(contentToApply);\r\n\r\n        if (isStatic) {\r\n            setLayerImage(contentToApply);\r\n        }\r\n    }, [\r\n        ctx.p5Instance,\r\n        layerImage,\r\n        isStatic,\r\n        applyFunction,\r\n        blendMode,\r\n        opacity,\r\n        x,\r\n        y,\r\n        width,\r\n        height,\r\n    ]);\r\n\r\n    const applyFilters = useCallback(() => {\r\n        if (!pg.current) return;\r\n        filters.forEach(filter => {\r\n            if (Array.isArray(filter)) {\r\n                pg.current.filter(...filter);\r\n            } else {\r\n                pg.current.filter(filter);\r\n            }\r\n        });\r\n    }, [filters]);\r\n\r\n    const applyAutoClear = useCallback(() => {\r\n        if (!pg.current) return;\r\n        pg.current.clear();\r\n    }, []);\r\n\r\n    const createLayer = useCallback(\r\n        p => {\r\n            if (!pg.current) {\r\n                pg.current = ctx.rootP5Instance.createGraphics(\r\n                    handleValueOrFunction(ctx.rootP5Instance, width),\r\n                    handleValueOrFunction(ctx.rootP5Instance, height)\r\n                );\r\n                pg.current.on = (event, cb) => {\r\n                    switch (event) {\r\n                        case 'apply':\r\n                            applyCallbacks.current.push(cb);\r\n                            return () => {\r\n                                applyCallbacks.current.splice(\r\n                                    applyCallbacks.current.indexOf(cb),\r\n                                    1\r\n                                );\r\n                            };\r\n                        default:\r\n                            console.error('Unknow layer event', event);\r\n                    }\r\n                };\r\n            }\r\n            pg.current.__isLayer = true;\r\n            pg.current.__isStatic = isStatic;\r\n            pg.current.__id = id;\r\n            ctx.getRootState().layers.push(pg.current);\r\n        },\r\n        [ctx, height, id, isStatic, width]\r\n    );\r\n\r\n    return (\r\n        <P5RenderContext.Provider value={api}>\r\n            <>\r\n                {!layerImage && <Command command={createLayer} />}\r\n                {!layerImage && autoClear && (\r\n                    <Command command={applyAutoClear} />\r\n                )}\r\n                {!layerImage && children}\r\n                {!layerImage && filters.length > 0 && (\r\n                    <Command command={applyFilters} />\r\n                )}\r\n                <Command command={applyLayer} />\r\n            </>\r\n        </P5RenderContext.Provider>\r\n    );\r\n}\r\nLayer.displayName = 'Layer';\r\nLayer.propTypes = {\r\n    /** todo */\r\n    autoClear: PropTypes.bool,\r\n    /** todo */\r\n    blendMode: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n    /** todo */\r\n    opacity: PropTypes.number,\r\n    /** todo */\r\n    filters: PropTypes.array,\r\n    /** todo */\r\n    isStatic: PropTypes.bool,\r\n    /** todo */\r\n    applyFunction: PropTypes.func,\r\n    /** todo */\r\n    id: PropTypes.string,\r\n    /** The x-coordinate of the layer */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n    /** The y-coordinate of the layer */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n    /** The width of the layer */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n    /** The height of the layer */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n    /** The size of the shape in pixels */\r\n    size: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\r\n};\r\n","import React, { useRef, useCallback, useContext } from 'react';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport { Layer } from './Layer';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Todo\r\n */\r\nexport function Mask({ id, children, ...props }) {\r\n    const ctx = useContext(P5RenderContext);\r\n    const mask = useRef(null);\r\n\r\n    const applyFunction = useCallback(\r\n        layer => {\r\n            const apply = (parentLayer, parentImg) => {\r\n                parentImg.mask(layer);\r\n            };\r\n            if (mask.current) mask.current();\r\n            mask.current = ctx.p5Instance.on('apply', apply);\r\n        },\r\n        [ctx.p5Instance]\r\n    );\r\n\r\n    return (\r\n        <Layer id={id} applyFunction={applyFunction} {...props}>\r\n            {children}\r\n        </Layer>\r\n    );\r\n}\r\nMask.displayName = 'Mask';\r\nMask.propTypes = Layer.propTypes;\r\n","import { handleValueOrFunction } from './handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function handleCommonProps(props, p) {\r\n    const applyProp = propName => {\r\n        if (!props.hasOwnProperty(propName)) return;\r\n        const value = handleValueOrFunction(p, props[propName]);\r\n\r\n        if (Array.isArray(value)) p[propName](...value);\r\n        else p[propName](value);\r\n    };\r\n\r\n    if (props.noFill) p.noFill();\r\n    if (props.noStroke) p.noStroke();\r\n\r\n    applyProp('ellipseMode');\r\n    applyProp('rectMode');\r\n    applyProp('angleMode');\r\n    applyProp('colorMode');\r\n\r\n    applyProp('fill');\r\n    applyProp('stroke');\r\n\r\n    applyProp('strokeJoin');\r\n    applyProp('strokeCap');\r\n    applyProp('strokeWeight');\r\n\r\n    applyProp('translate');\r\n    applyProp('rotate');\r\n    applyProp('scale');\r\n    applyProp('shearX');\r\n    applyProp('shearY');\r\n    applyProp('applyMatrix');\r\n}\r\n\r\nconst generate = (name, ...propTypes) => ({\r\n    [name]: PropTypes.oneOfType([PropTypes.func, ...propTypes]),\r\n});\r\nexport const commonPropTypes = Object.assign(\r\n    {},\r\n    generate(\r\n        'ellipseMode',\r\n        PropTypes.oneOf(['center', 'radius', 'corner', 'corners'])\r\n    ),\r\n    generate(\r\n        'rectMode',\r\n        PropTypes.oneOf(['center', 'radius', 'corner', 'corners'])\r\n    ),\r\n    generate('angleMode', PropTypes.oneOf(['degrees', 'radians'])),\r\n    generate(\r\n        'colorMode',\r\n        PropTypes.array,\r\n        PropTypes.oneOf(['rgb', 'hsb', 'hsl'])\r\n    ),\r\n    generate(\r\n        'fill',\r\n        PropTypes.oneOfType([\r\n            PropTypes.array,\r\n            PropTypes.number,\r\n            PropTypes.string,\r\n        ])\r\n    ),\r\n    generate(\r\n        'stroke',\r\n        PropTypes.oneOfType([\r\n            PropTypes.array,\r\n            PropTypes.number,\r\n            PropTypes.string,\r\n        ])\r\n    ),\r\n    {\r\n        noFill: PropTypes.bool,\r\n        noStroke: PropTypes.bool,\r\n    },\r\n    generate('strokeJoin', PropTypes.oneOf(['miter', 'bevel', 'round'])),\r\n    generate('strokeCap', PropTypes.oneOf(['round', 'square', 'project'])),\r\n    generate('strokeWeight', PropTypes.number),\r\n    generate('translate', PropTypes.array),\r\n    generate('rotate', PropTypes.number, PropTypes.array),\r\n    generate('scale', PropTypes.number, PropTypes.array),\r\n    generate('shearX', PropTypes.number),\r\n    generate('shearY', PropTypes.number),\r\n    generate('applyMatrix', PropTypes.array)\r\n);\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// array function should not be used here so that we can the local this\nvar addPropTypeDocumentationField = function addPropTypeDocumentationField(fieldName) {\n  return function addFieldToReactDesc(value) {\n    if (!this.reactDesc) {\n      this.reactDesc = {};\n    }\n    this.reactDesc[fieldName] = value;\n    return this;\n  };\n};\n\nvar documentedPropType = {\n  defaultValue: addPropTypeDocumentationField('defaultValue'),\n  description: addPropTypeDocumentationField('description'),\n  deprecated: addPropTypeDocumentationField('deprecated'),\n  format: addPropTypeDocumentationField('format')\n};\n\nvar createPropType = function createPropType(type) {\n  var propTypeObj = _extends({\n    type: type\n  }, documentedPropType);\n  Object.defineProperty(propTypeObj, 'isRequired', {\n    get: function getRequired() {\n      if (!this.reactDesc) {\n        this.reactDesc = {};\n      }\n      this.reactDesc.required = true;\n      return this;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return propTypeObj;\n};\n\nvar createPropTypeWithArgs = function createPropTypeWithArgs(type) {\n  return function (args) {\n    var propTypeObj = _extends({\n      args: args,\n      type: type\n    }, documentedPropType);\n    Object.defineProperty(propTypeObj, 'isRequired', {\n      get: function getRequired() {\n        if (!this.reactDesc) {\n          this.reactDesc = {};\n        }\n        this.reactDesc.required = true;\n        return this;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    return propTypeObj;\n  };\n};\n\nvar PropTypes = {\n  custom: function custom(callback) {\n    var target = callback.bind(null);\n    target.type = 'func';\n    Object.keys(documentedPropType).forEach(function (fieldName) {\n      target[fieldName] = documentedPropType[fieldName];\n    });\n    return target;\n  }\n};\n\nfunction definePropType(type) {\n  Object.defineProperty(PropTypes, type, {\n    get: function getPropType() {\n      return createPropType(type);\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction definePropTypeWithArgs(type) {\n  Object.defineProperty(PropTypes, type, {\n    get: function getPropType() {\n      return createPropTypeWithArgs(type);\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\ndefinePropType('any');\ndefinePropType('array');\ndefinePropType('bool');\ndefinePropType('element');\ndefinePropType('func');\ndefinePropType('node');\ndefinePropType('number');\ndefinePropType('object');\ndefinePropType('symbol');\ndefinePropType('string');\n\ndefinePropTypeWithArgs('arrayOf');\ndefinePropTypeWithArgs('instanceOf');\ndefinePropTypeWithArgs('objectOf');\ndefinePropTypeWithArgs('oneOfType');\ndefinePropTypeWithArgs('oneOf');\ndefinePropTypeWithArgs('shape');\n\nexports.default = PropTypes;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = descToJSON;\n\nvar arrayFormat = function arrayFormat(array, prefix) {\n  return array.map(function (propType) {\n    return propTypeFormat(propType, prefix);\n  });\n};\n\nvar shapeFormat = function shapeFormat(shape, prefix) {\n  var props = Object.keys(shape).map(function (key) {\n    var value = shape[key];\n    var valueFormat = void 0;\n    if (value.type && (value.type === 'arrayOf' || value.type === 'oneOfType' || value.type === 'oneOf') && Array.isArray(value.args)) {\n      valueFormat = '\\n' + propTypeFormat(value, prefix + '    ');\n    } else if (value.type === 'shape') {\n      valueFormat = '\\n' + propTypeFormat(value, prefix + '    ');\n    } else {\n      valueFormat = propTypeFormat(value);\n    }\n    return prefix + '  ' + key + ': ' + valueFormat;\n  });\n  return prefix + '{\\n' + props.join(',\\n') + '\\n' + prefix + '}';\n};\n\nvar propTypeFormat = function propTypeFormat(propType) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var result = void 0;\n  if (propType.type) {\n    switch (propType.type) {\n      case 'arrayOf':\n        if (Array.isArray(propType.args)) {\n          result = prefix + '[\\n' + arrayFormat(propType.args, prefix + '  ').join('\\n') + '\\n' + prefix + ']';\n        } else if (propType.args.type === 'oneOfType') {\n          result = prefix + '[\\n' + propTypeFormat(propType.args, prefix + '  ') + '\\n' + prefix + ']';\n        } else {\n          result = prefix + '[' + propTypeFormat(propType.args) + ']';\n        }\n        break;\n      case 'bool':\n        result = prefix + 'boolean';\n        break;\n      case 'func':\n        result = prefix + 'function';\n        break;\n      case 'instanceOf':\n        result = prefix + 'new ' + propType.args.name + '(...)';\n        break;\n      case 'objectOf':\n        result = prefix + '{ test: ' + propType.args.type + ', ... }';\n        break;\n      case 'oneOf':\n        result = propType.args.map(function (a) {\n          return '' + prefix + a;\n        }).join('\\n');\n        break;\n      case 'oneOfType':\n        if (Array.isArray(propType.args)) {\n          result = arrayFormat(propType.args, prefix).join('\\n');\n        } else {\n          result = '' + prefix + propTypeFormat(propType.args);\n        }\n        break;\n      case 'shape':\n        result = '' + shapeFormat(propType.args, prefix);\n        break;\n      default:\n        result = '' + prefix + propType.type;\n        break;\n    }\n  } else {\n    result = prefix + 'custom';\n  }\n  return result;\n};\n\nvar propTypeAsJson = function propTypeAsJson(propType, propName, defaultValue) {\n  var documentation = _extends({}, propType.reactDesc, {\n    name: propName\n  });\n\n  if (defaultValue) {\n    documentation.defaultValue = defaultValue;\n  }\n\n  documentation.format = documentation.format || propTypeFormat(propType);\n\n  return documentation;\n};\n\nfunction descToJSON(component) {\n  var reactDesc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!component) {\n    throw new Error('react-desc: component is required');\n  }\n\n  var documentation = _extends({\n    name: component.displayName || component.name\n  }, reactDesc);\n  if (reactDesc) {\n    delete documentation.propTypes;\n\n    if (reactDesc.propTypes) {\n      var propTypes = [];\n      Object.keys(reactDesc.propTypes).forEach(function (propName) {\n        var propType = reactDesc.propTypes[propName];\n        propTypes.push(propTypeAsJson(propType, propName, (component.defaultProps || {})[propName]));\n      });\n      if (propTypes.length > 0) {\n        documentation.properties = propTypes;\n      }\n    }\n  }\n  return documentation;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = descToMarkdown;\n\nvar _descToJSON = require('./descToJSON');\n\nvar _descToJSON2 = _interopRequireDefault(_descToJSON);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar code = '```';\n\nfunction parseAvailableAt(_ref) {\n  var badge = _ref.badge,\n      url = _ref.url;\n\n  return '[![](' + badge + ')](' + url + ')';\n}\n\nfunction getAvailableAt(_ref2) {\n  var availableAt = _ref2.availableAt;\n\n  if (!availableAt) {\n    return '';\n  }\n  var availableAtStr = void 0;\n  if (Array.isArray(availableAt)) {\n    availableAtStr = availableAt.map(function (currentAvailable) {\n      return parseAvailableAt(currentAvailable);\n    }).join(' ');\n  } else {\n    availableAtStr = parseAvailableAt(availableAt);\n  }\n  return '\\n' + availableAtStr;\n}\n\nfunction getHeader(_ref3) {\n  var description = _ref3.description,\n      details = _ref3.details,\n      deprecated = _ref3.deprecated,\n      name = _ref3.name;\n\n  return '## ' + (deprecated ? '~~' + name + '~~' : name) + (deprecated ? ' (' + deprecated + ')' : '') + '\\n' + description + (details ? '\\n\\n' + details : '') + '\\n';\n}\n\nfunction getUsage(_ref4) {\n  var usage = _ref4.usage;\n\n  return usage ? '\\n## Usage\\n\\n' + code + 'javascript\\n' + usage + '\\n' + code : '';\n}\n\nfunction getDefaultValue(defaultValue) {\n  var defaultValueString = (typeof defaultValue === 'undefined' ? 'undefined' : _typeof(defaultValue)) === 'object' ? JSON.stringify(defaultValue, undefined, 2) : defaultValue;\n\n  return ' Defaults to `' + defaultValueString + '`.';\n}\n\nfunction getProperties(_ref5) {\n  var _ref5$properties = _ref5.properties,\n      properties = _ref5$properties === undefined ? [] : _ref5$properties;\n\n  var props = properties.map(function (_ref6) {\n    var defaultValue = _ref6.defaultValue,\n        deprecated = _ref6.deprecated,\n        description = _ref6.description,\n        format = _ref6.format,\n        name = _ref6.name,\n        required = _ref6.required;\n    return '\\n' + (deprecated ? '**~~' + name + '~~**' : '**' + name + '**') + (deprecated ? ' (' + deprecated + ')' : '') + '\\n\\n' + (required ? 'Required. ' : '') + description + (defaultValue ? getDefaultValue(defaultValue) : '') + '\\n\\n' + code + '\\n' + format + '\\n' + code;\n  });\n  return '\\n\\n## Properties\\n' + props.join('\\n') + '\\n  ';\n}\n\nfunction getIntrinsicElement(_ref7) {\n  var intrinsicElement = _ref7.intrinsicElement;\n\n  return intrinsicElement ? '\\n## Intrinsic element\\n\\n' + code + '\\n' + intrinsicElement + '\\n' + code : '';\n}\n\nfunction descToMarkdown(component, reactDesc) {\n  if (!component) {\n    throw new Error('react-desc: component is required');\n  }\n\n  var documentation = (0, _descToJSON2.default)(component, reactDesc);\n  var availableAt = getAvailableAt(documentation);\n  var header = getHeader(documentation);\n  var usage = getUsage(documentation);\n  var properties = getProperties(documentation);\n  var intrinsicElement = getIntrinsicElement(documentation);\n  return '' + header + availableAt + usage + properties + intrinsicElement;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = descToTypescript;\n\nvar arrayFormat = function arrayFormat(array) {\n  return array.map(function (propType) {\n    return propTypeFormat(propType);\n  });\n};\n\nvar shapeFormat = function shapeFormat(shape) {\n  var props = Object.keys(shape).map(function (key) {\n    var value = shape[key];\n    var valueFormat = void 0;\n    if (value.type && (value.type === 'arrayOf' || value.type === 'oneOfType' || value.type === 'oneOf') && Array.isArray(value.args)) {\n      valueFormat = '' + propTypeFormat(value);\n    } else if (value.type === 'shape') {\n      valueFormat = '' + propTypeFormat(value);\n    } else {\n      valueFormat = propTypeFormat(value);\n    }\n    return '' + key + (value.reactDesc && value.reactDesc.required ? '' : '?') + ': ' + valueFormat;\n  });\n  return '{' + props.join(',') + '}';\n};\n\nvar propTypeFormat = function propTypeFormat(propType, joinWith) {\n  var result = void 0;\n  if (Array.isArray(propType)) {\n    result = arrayFormat(propType).join(joinWith);\n  } else if (typeof propType !== 'function' && propType.type) {\n    switch (propType.type) {\n      case 'array':\n        result = 'any[]';\n        break;\n      case 'arrayOf':\n        if (propType.args.type === 'oneOfType') {\n          result = '(' + propTypeFormat(propType.args, ' | ') + ')[]';\n        } else {\n          result = propTypeFormat(propType.args, '\\n') + '[]';\n        }\n        break;\n      case 'bool':\n        result = 'boolean';\n        break;\n      case 'func':\n        result = '((...args: any[]) => any)';\n        break;\n      case 'node':\n        result = 'React.ReactNode';\n        break;\n      case 'element':\n        result = 'JSX.Element';\n        break;\n      case 'instanceOf':\n        result = 'any';\n        break;\n      case 'symbol':\n        result = 'any';\n        break;\n      case 'objectOf':\n        result = '{ [key: string]: ' + propTypeFormat(propType.args) + ' }';\n        break;\n      case 'oneOf':\n        result = propType.args.map(function (a) {\n          return '\"' + a + '\"';\n        }).join(' | ');\n        break;\n      case 'oneOfType':\n        result = '' + propTypeFormat(propType.args, ' | ');\n        break;\n      case 'shape':\n        result = '' + shapeFormat(propType.args);\n        break;\n      default:\n        result = '' + propType.type;\n        break;\n    }\n  } else {\n    result = 'any';\n  }\n  return result;\n};\n\nvar propTypeAsTypescript = function propTypeAsTypescript(propType, propName) {\n  var documentation = _extends({}, propType.reactDesc, {\n    name: propName\n  });\n\n  documentation.format = propTypeFormat(propType);\n\n  return documentation;\n};\n\nfunction descToTypescript(component) {\n  var reactDesc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!component) {\n    throw new Error('react-desc: component is required');\n  }\n\n  var documentation = _extends({\n    name: component.displayName || component.name\n  }, reactDesc);\n  if (reactDesc) {\n    delete documentation.propTypes;\n\n    if (reactDesc.propTypes) {\n      var propTypes = [];\n      Object.keys(reactDesc.propTypes).forEach(function (propName) {\n        var propType = reactDesc.propTypes[propName];\n        propTypes.push(propTypeAsTypescript(propType, propName));\n      });\n      if (propTypes.length > 0) {\n        documentation.properties = propTypes;\n      }\n    }\n  }\n  return documentation;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = describe;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _descToJSON = require('./descToJSON');\n\nvar _descToJSON2 = _interopRequireDefault(_descToJSON);\n\nvar _descToMarkdown = require('./descToMarkdown');\n\nvar _descToMarkdown2 = _interopRequireDefault(_descToMarkdown);\n\nvar _descToTypescript = require('./descToTypescript');\n\nvar _descToTypescript2 = _interopRequireDefault(_descToTypescript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar convertArray = function convertArray(array) {\n  return array.map(function (type) {\n    return convertPropType(type);\n  });\n};\n\nvar convertShape = function convertShape(shape) {\n  var result = {};\n  Object.keys(shape).forEach(function (key) {\n    result[key] = convertPropType(shape[key]);\n  });\n  return result;\n};\n\nvar convertPropType = function convertPropType(propType) {\n  var result = void 0;\n  if (propType && propType.type) {\n    if (!_propTypes2.default[propType.type]) {\n      throw new Error('react-desc: unknown type ' + propType.type);\n    }\n    if (propType.args) {\n      if (propType.type === 'oneOfType' || propType.type === 'arrayOf') {\n        if (Array.isArray(propType.args)) {\n          result = _propTypes2.default[propType.type](convertArray(propType.args));\n        } else {\n          result = _propTypes2.default[propType.type](convertPropType(propType.args));\n        }\n      } else if (propType.type === 'shape') {\n        result = _propTypes2.default[propType.type](convertShape(propType.args));\n      } else {\n        result = _propTypes2.default[propType.type](propType.args);\n      }\n    } else {\n      result = _propTypes2.default[propType.type];\n    }\n  } else {\n    result = propType;\n  }\n  return result;\n};\n\nfunction describe(ComponentInstance) {\n  if (!ComponentInstance) {\n    throw new Error('react-desc: component is required');\n  }\n\n  var documentation = {\n    propTypes: {}\n  };\n\n  var DocumentedComponent = ComponentInstance;\n\n  var addDocumentationProp = function addDocumentationProp(propName) {\n    return function (value) {\n      documentation[propName] = value;\n      return DocumentedComponent;\n    };\n  };\n\n  DocumentedComponent.availableAt = addDocumentationProp('availableAt');\n  DocumentedComponent.description = addDocumentationProp('description');\n  DocumentedComponent.details = addDocumentationProp('details');\n  DocumentedComponent.deprecated = addDocumentationProp('deprecated');\n  DocumentedComponent.usage = addDocumentationProp('usage');\n  DocumentedComponent.intrinsicElement = addDocumentationProp('intrinsicElement');\n\n  DocumentedComponent.toJSON = _descToJSON2.default.bind(null, ComponentInstance, documentation);\n  DocumentedComponent.toTypescript = _descToTypescript2.default.bind(null, ComponentInstance, documentation);\n  DocumentedComponent.toMarkdown = _descToMarkdown2.default.bind(null, ComponentInstance, documentation);\n\n  Object.defineProperty(DocumentedComponent, 'propTypes', {\n    get: function get() {\n      return DocumentedComponent.propTypesValue;\n    },\n    set: function set(value) {\n      if (!DocumentedComponent.propTypesValue) {\n        DocumentedComponent.propTypesValue = {};\n      }\n      Object.keys(value).forEach(function (name) {\n        var propType = value[name];\n        if (propType.type) {\n          documentation.propTypes[name] = propType;\n          propType = convertPropType(propType);\n          if (value[name].reactDesc.required) {\n            propType = propType.isRequired;\n          }\n        }\n        DocumentedComponent.propTypesValue[name] = propType;\n        return propType;\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  return DocumentedComponent;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PropTypes = require('./PropTypes');\n\nvar _PropTypes2 = _interopRequireDefault(_PropTypes);\n\nvar _describe = require('./describe');\n\nvar _describe2 = _interopRequireDefault(_describe);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.PropTypes = _PropTypes2.default;\nexports.describe = _describe2.default;\n\nexports.default = {\n  describe: _describe2.default,\n  PropTypes: _PropTypes2.default\n};","import React, { useCallback } from 'react';\r\nimport { Command } from './Command';\r\nimport { handleCommonProps, commonPropTypes } from './utils/handleCommonProps';\r\nimport { describe } from 'react-desc';\r\n\r\n/** Todo */\r\nexport function PushPop({ children, ...props }) {\r\n    const push = useCallback(\r\n        p => {\r\n            p.push();\r\n            handleCommonProps(props, p);\r\n        },\r\n        [props]\r\n    );\r\n\r\n    const pop = useCallback(p => {\r\n        p.pop();\r\n    }, []);\r\n    return (\r\n        <>\r\n            <Command command={push} />\r\n            {children}\r\n            <Command command={pop} />\r\n        </>\r\n    );\r\n}\r\nPushPop.propTypes = commonPropTypes;\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Rectangle>` component allows you to draw a rectangle to the screen.\r\n * It is the equivalent of calling [p5.rectangle()](https://p5js.org/reference/#/p5/rectangle).`;\r\n */\r\nexport function Rectangle({ x, y, width, height, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.rect(...handleValueOrFunction(p, x, y, width, height));\r\n        },\r\n        [props, x, y, width, height]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nRectangle.displayName = 'Rectangle';\r\nRectangle.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The Y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The width of the shape in pixels */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The height of the shape in pixels */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useCallback, useContext } from 'react';\r\nimport { Command } from './Command';\r\nimport { P5RenderContext } from './RenderContext';\r\nimport { Rectangle } from './shapes/Rectangle';\r\nimport { PushPop } from './PushPop';\r\nimport { handleCommonProps, commonPropTypes } from './utils/handleCommonProps';\r\nimport { handleValueOrFunction } from './utils/handleValueOrFunction';\r\nimport p5 from 'p5';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst FullCanvasRectangle = () => (\r\n    <Rectangle\r\n        x={0}\r\n        y={0}\r\n        width={p => p.width}\r\n        height={p => p.height}\r\n        noStroke\r\n    />\r\n);\r\n\r\n/**\r\n * Todo\r\n */\r\nexport function LinearGradient({\r\n    x = 0,\r\n    y = 0,\r\n    width,\r\n    height,\r\n    colors = ['black', 'white'],\r\n    angle,\r\n    angleMode,\r\n    children,\r\n    ...props\r\n}) {\r\n    const { rootP5Instance: rp } = useContext(P5RenderContext);\r\n\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            const params = {\r\n                x: handleValueOrFunction(rp, x),\r\n                y: handleValueOrFunction(rp, y),\r\n                width: handleValueOrFunction(rp, width) || p.width,\r\n                height: handleValueOrFunction(rp, height) || p.height,\r\n                angle: handleValueOrFunction(rp, angle) || 0,\r\n                angleMode: handleValueOrFunction(rp, angleMode) || p.RADIANS,\r\n                colors: handleValueOrFunction(rp, ...colors),\r\n            };\r\n\r\n            if (params.angleMode !== p.RADIANS) {\r\n                params.angle = p.radians(params.angle);\r\n            }\r\n            p.push();\r\n            p.angleMode(p.DEGREES);\r\n            let angleInDegrees = p.degrees(params.angle) % 360;\r\n            let endVectorAngle = p.degrees(params.angle) % 180;\r\n\r\n            if (endVectorAngle > 45 && endVectorAngle <= 90) {\r\n                endVectorAngle = 90 - endVectorAngle;\r\n            } else if (endVectorAngle > 90 && endVectorAngle <= 135) {\r\n                endVectorAngle -= 90;\r\n            } else if (endVectorAngle > 135 && endVectorAngle <= 180) {\r\n                endVectorAngle = 90 - (endVectorAngle - 90);\r\n            }\r\n\r\n            const startVector = p.createVector(params.x, params.y);\r\n            const endVector = p5.Vector.fromAngle(params.angle);\r\n\r\n            endVector.setMag(params.width / p.sin(90 - endVectorAngle));\r\n            if (angleInDegrees > 270) {\r\n                startVector.y += params.height;\r\n                endVector.y += params.height;\r\n            } else if (angleInDegrees > 180) {\r\n                startVector.x += params.width;\r\n                endVector.x += params.width;\r\n                startVector.y += params.height;\r\n                endVector.y += params.height;\r\n            } else if (angleInDegrees > 90) {\r\n                startVector.x += params.width;\r\n                endVector.x += params.width;\r\n            }\r\n            p.pop();\r\n            const gradient = p.drawingContext.createLinearGradient(\r\n                startVector.x,\r\n                startVector.y,\r\n                params.x + endVector.x,\r\n                params.y + endVector.y\r\n            );\r\n            params.colors.forEach((color, i) => {\r\n                const stop = i / (params.colors.length - 1);\r\n                gradient.addColorStop(stop, p.color(color).toString());\r\n            });\r\n            p.drawingContext.fillStyle = gradient;\r\n\r\n            // UNCOMMENT TO DEBUG\r\n            // p.push();\r\n            // p.rect(0, 0, p.width, p.height);\r\n            // p.fill(0);\r\n            // p.text(`angle: ${Math.round(p.degrees(params.angle))}`, 15, 15);\r\n            // p.noFill();\r\n            // p.stroke(128);\r\n            // p.rect(params.x, params.y, params.width, params.height);\r\n            // p.rectMode(p.CORNERS);\r\n            // p.stroke(255);\r\n            // p.line(\r\n            //     startVector.x,\r\n            //     startVector.y,\r\n            //     params.x + endVector.x,\r\n            //     params.y + endVector.y\r\n            // );\r\n            // p.pop();\r\n        },\r\n        [props, rp, x, y, width, height, angle, angleMode, colors]\r\n    );\r\n\r\n    return (\r\n        <PushPop>\r\n            <Command command={command} />\r\n            {children || <FullCanvasRectangle />}\r\n        </PushPop>\r\n    );\r\n}\r\n\r\nLinearGradient.displayName = 'LinearGradient';\r\nLinearGradient.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The Y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The width of the shape in pixels */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The height of the shape in pixels */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** Todo */\r\n    colors: PropTypes.oneOfType([PropTypes.func, PropTypes.array]),\r\n    /** Todo */\r\n    angle: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\r\nimport { Command } from './Command';\r\nimport { useP5 } from './P5';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Body>` component allows you to easily render a moving object, by providing a constructor function via the `model` prop that contains an `update()` method.\r\n * The update method will be called on every draw cycle by the P5 Instance.\r\n */\r\nexport function Body({ model, children }) {\r\n    const { p } = useP5();\r\n    const _model = useRef(null);\r\n    const [objectState, setObjectState] = useState(null);\r\n\r\n    const command = useCallback(\r\n        p => {\r\n            if (objectState) {\r\n                _model.current.update(p);\r\n                setObjectState({ state: _model.current });\r\n            }\r\n        },\r\n        [objectState]\r\n    );\r\n\r\n    useEffect(() => {\r\n        // We need to wait for the next tick before initializing the model\r\n        // This is because it could happend that setup commands such as createCanvas have not been run yet, potentially forwarding wrong values into the model\r\n        if (!_model.current) {\r\n            setTimeout(() => {\r\n                _model.current = model(p, _model.current);\r\n                setObjectState({ state: _model.current });\r\n            }, 25);\r\n        } else {\r\n            _model.current = model(p, _model.current);\r\n            setObjectState({ state: _model.current });\r\n        }\r\n    }, [model, p]);\r\n\r\n    return (\r\n        <>\r\n            <Command command={command}></Command>\r\n            {objectState && children(objectState.state)}\r\n        </>\r\n    );\r\n}\r\n\r\nBody.displayName = 'Body';\r\nBody.propTypes = {\r\n    /** a constructor function that takes the p5 instance as a parameter. It must return an object containing the `update()  */\r\n    model: PropTypes.func.isRequired,\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Arc>` component allows you to draw a arc to the screen.\r\n * It is the equivalent of calling [p5.arc()](https://p5js.org/reference/#/p5/arc).`;\r\n */\r\nexport function Arc({ x, y, height, width, start, stop, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.arc(\r\n                ...handleValueOrFunction(p, x, y, width, height, start, stop)\r\n            );\r\n        },\r\n        [props, x, y, width, height, start, stop]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nArc.displayName = 'Arc';\r\nArc.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The Y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The width of the shape in pixels */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The height of the shape in pixels */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The angle to start the arc */\r\n    start: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The angle to stop the arc */\r\n    stop: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Circle>` component allows you to draw a circle to the screen.\r\n * It is the equivalent of calling [p5.circle()](https://p5js.org/reference/#/p5/circle).`;\r\n */\r\nexport function Circle({ x, y, size, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.circle(...handleValueOrFunction(p, x, y, size));\r\n        },\r\n        [props, x, y, size]\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nCircle.displayName = 'Circle';\r\nCircle.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The size of the shape in pixels */\r\n    size: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Ellipse>` component allows you to draw a ellipse to the screen.\r\n * It is the equivalent of calling [p5.ellipse()](https://p5js.org/reference/#/p5/ellipse).`;\r\n */\r\nexport function Ellipse({ x, y, width, height, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.ellipse(...handleValueOrFunction(p, x, y, width, height));\r\n        },\r\n        [props, x, y, width, height]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nEllipse.displayName = 'Ellipse';\r\nEllipse.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The Y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The width of the shape in pixels */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The height of the shape in pixels */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Line>` component allows you to draw a line to the screen.\r\n * It is the equivalent of calling [p5.line()](https://p5js.org/reference/#/p5/line).`;\r\n */\r\nexport function Line({ from, to, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.line(...handleValueOrFunction(p, from, to).flat());\r\n        },\r\n        [props, from, to]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nLine.displayName = 'Line';\r\nLine.propTypes = {\r\n    /** An array of two numbers contaiing the x and y coordinates for the start of the line */\r\n    from: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** An array of two numbers contaiing the x and y coordinates for the end of the line */\r\n    to: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Point>` component allows you to draw a point to the screen.\r\n * It is the equivalent of calling [p5.point()](https://p5js.org/reference/#/p5/point).`;\r\n */\r\nexport function Point({ x, y, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.point(...handleValueOrFunction(p, x, y));\r\n        },\r\n        [props, x, y]\r\n    );\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\nPoint.displayName = 'Point';\r\nPoint.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { Command } from '../Command';\r\nimport { handleCommonProps, commonPropTypes } from '../utils/handleCommonProps';\r\nimport { handleValueOrFunction } from '../utils/handleValueOrFunction';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * The `<Square>` component allows you to draw a square to the screen.\r\n * It is the equivalent of calling [p5.square()](https://p5js.org/reference/#/p5/square).`;\r\n */\r\nexport function Square({ x, y, size, children, ...props }) {\r\n    const command = useCallback(\r\n        p => {\r\n            handleCommonProps(props, p);\r\n            p.square(...handleValueOrFunction(p, x, y, size));\r\n        },\r\n        [props, x, y, size]\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Command command={command} />\r\n            {children}\r\n        </>\r\n    );\r\n}\r\n\r\nSquare.displayName = 'Square';\r\nSquare.propTypes = {\r\n    /** The x-coordinate of the shape */\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The y-coordinate of the shape */\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    /** The size of the shape in pixels */\r\n    size: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\r\n    ...commonPropTypes,\r\n};\r\n"],"names":["p5","disableFriendlyErrors","SETUP","DRAW","PRELOAD","P5Context","createContext","useP5","context","useContext","P5RenderContext","p","p5Instance","root","rootP5Instance","draw","defineCommand","useDraw","command","useEffect","clear","DEFAULT_OPTIONS","clearOnDraw","frameRate","debug","pixelDensity","P5","options","children","props","useState","setP5Instance","__ready","useRef","canvasOptions","useMemo","rootState","remove","__id","setup","setTimeout","current","forEach","api","getOptions","getRootState","findLayer","id","layers","find","layer","defineCommandFactory","key","ctx","idx","length","handler","__type","push","splice","index","indexOf","filter","c","React","displayName","propTypes","PropTypes","shape","bool","number","Command","renderContext","commandIndex","func","isRequired","object","Debug","frameRateHistory","displayDebugInfo","useCallback","fill","noStroke","rect","textFont","textSize","textLeading","fr","Math","round","avgFr","reduce","total","curr","shift","text","pop","RenderContextProvider","step","string","Setup","Draw","Canvas","width","height","renderer","canvasClassName","canvasStyle","rp","canvasContainerRef","canvas","createCanvas","elt","className","style","parent","oneOfType","oneOf","handleValueOrFunction","values","returnValue","map","value","Background","color","background","array","EMPTY_ARRAY","Object","freeze","Layer","autoClear","blendMode","opacity","filters","isStatic","applyFunction","x","y","layerImage","setLayerImage","pg","applyCallbacks","globalCtx","applyLayer","doApply","content","tint","image","mouseX","mouseY","pmouseX","pmouseY","contentToApply","copyParams","createImage","copy","cb","applyFilters","Array","isArray","applyAutoClear","createLayer","createGraphics","on","event","console","error","__isLayer","__isStatic","size","Mask","mask","apply","parentLayer","parentImg","handleCommonProps","applyProp","propName","hasOwnProperty","noFill","generate","name","commonPropTypes","assign","_descToJSON","_propTypes","_descToMarkdown","_descToTypescript","_PropTypes","_describe","PushPop","Rectangle","FullCanvasRectangle","LinearGradient","colors","angle","angleMode","params","RADIANS","radians","DEGREES","angleInDegrees","degrees","endVectorAngle","startVector","createVector","endVector","Vector","fromAngle","setMag","sin","gradient","drawingContext","createLinearGradient","i","stop","addColorStop","toString","fillStyle","Body","model","_model","objectState","setObjectState","update","state","Arc","start","arc","Circle","circle","Ellipse","ellipse","Line","from","to","line","flat","Point","point","Square","square"],"mappings":"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"}